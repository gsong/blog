(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{b3H6:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return r})),t.d(a,"default",(function(){return m}));var n=t("52Sp"),s=(t("DaAx"),t("O7St")),c=t("mc/u"),b=t("ipew"),p=t("Qwro"),r={},i={_frontmatter:r},o=c.a;function m(e){var a=e.components,t=Object(n.a)(e,["components"]);return Object(s.b)(o,Object.assign({},i,t,{components:a,mdxType:"MDXLayout"}),Object(s.b)("p",null,"I see a lot of people, especially those new to React hooks, shy away from\n",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://reactjs.org/docs/hooks-reference.html#usereducer"}),Object(s.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"useReducer"))," in favor of multiple ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useState"),"s. I think some of it\nis the simplicity of the ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useState")," API, and some of it is assumed complexity\nvia association with ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://redux.js.org"}),"Redux"),". In practice, ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useReducer")," has a lot more in\ncommon with ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useState")," than Redux."),Object(s.b)("h2",{id:"table-of-contents",style:{position:"relative"}},"Table of Contents",Object(s.b)("a",Object.assign({parentName:"h2"},{href:"#table-of-contents","aria-label":"table of contents permalink",className:"header-link after"}),Object(s.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(s.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))))),Object(s.b)("div",{className:"toc"}),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#updating-state-with-usestate-and-usereducer"}),"Updating State With ",Object(s.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"useState")," and ",Object(s.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"useReducer"))),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#the-reducer-function"}),"The Reducer Function")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#putting-it-all-together-with-usereducer"}),"Putting It All Together With useReducer")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#reducer-without-any-params"}),"Reducer Without Any Params")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#reducer-using-current-state"}),"Reducer Using Current State")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#takeaways"}),"Takeaways"))),Object(s.b)("undefined",null),Object(s.b)("h2",{id:"updating-state-with-usestate-and-usereducer",style:{position:"relative"}},"Updating State With ",Object(s.b)("code",Object.assign({parentName:"h2"},{className:"language-text"}),"useState")," and ",Object(s.b)("code",Object.assign({parentName:"h2"},{className:"language-text"}),"useReducer"),Object(s.b)("a",Object.assign({parentName:"h2"},{href:"#updating-state-with-usestate-and-usereducer","aria-label":"updating state with usestate and usereducer permalink",className:"header-link after"}),Object(s.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(s.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))))),Object(s.b)("p",null,"The ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useState")," API has two parts: the state and the state setter. When you want\nto update the state, you replace it using the state setter."),Object(s.b)("p",null,Object(s.b)("img",Object.assign({parentName:"p"},{src:"/1c3fbedf231017327a3616382f8f3fe9/setState-flow.svg",alt:"Sequence diagram of React.useState setState flow"}))),Object(s.b)("p",null,"The ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useReducer")," API has three parts: the state, an action dispatcher, and a\nreducer to produce the new state."),Object(s.b)("p",null,Object(s.b)("img",Object.assign({parentName:"p"},{src:"/21180075d75a6e961abf29165b772f99/dispatch-flow.svg",alt:"Sequence diagram of React.useReducer dispatch flow"}))),Object(s.b)("p",null,"When you want to update the state:"),Object(s.b)("ol",null,Object(s.b)("li",{parentName:"ol"},"Dispatch an action."),Object(s.b)("li",{parentName:"ol"},"The hook passes the current state and the action to the reducer function."),Object(s.b)("li",{parentName:"ol"},"The reducer computes a new state."),Object(s.b)("li",{parentName:"ol"},"The state is updated with the new state.")),Object(s.b)("p",null,Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useReducer")," takes care of steps 2 and 4. Youâ€™re responsible for steps 1 and 3."),Object(s.b)("h2",{id:"the-reducer-function",style:{position:"relative"}},"The Reducer Function",Object(s.b)("a",Object.assign({parentName:"h2"},{href:"#the-reducer-function","aria-label":"the reducer function permalink",className:"header-link after"}),Object(s.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(s.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))))),Object(s.b)("p",null,"These are all valid signatures for reducer functions:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(s.b)("pre",Object.assign({parentName:"div"},{style:{counterReset:"linenumber NaN"},className:"language-js line-numbers"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"currentState",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," dispachedAction"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"newState"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"currentState"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"newState"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," newState"),Object(s.b)("span",Object.assign({parentName:"pre"},{"aria-hidden":"true",className:"line-numbers-rows",style:{whiteSpace:"normal",width:"auto",left:"0"}}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"})))),Object(s.b)("p",null,"As you can see, ",Object(s.b)("mark",null,"the primary job of a reducer is to produce a new\nstate"),", optionally taking into account the current state and the\ndispatched action."),Object(s.b)("h2",{id:"putting-it-all-together-with-usereducer",style:{position:"relative"}},"Putting It All Together With useReducer",Object(s.b)("a",Object.assign({parentName:"h2"},{href:"#putting-it-all-together-with-usereducer","aria-label":"putting it all together with usereducer permalink",className:"header-link after"}),Object(s.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(s.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))))),Object(s.b)("p",null,Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://reactjs.org/docs/hooks-reference.html#usereducer"}),"The signature of ",Object(s.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"useReducer"))," is:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(s.b)("pre",Object.assign({parentName:"div"},{style:{counterReset:"linenumber NaN"},className:"language-js line-numbers"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"state",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," dispatch",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"useReducer"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"reducer",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," initialState",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")),Object(s.b)("span",Object.assign({parentName:"pre"},{"aria-hidden":"true",className:"line-numbers-rows",style:{whiteSpace:"normal",width:"auto",left:"0"}}),Object(s.b)("span",{parentName:"span"})))),Object(s.b)("p",null,"You pass in a ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"reducer")," function (and optionally an ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"initialState"),") to\ninstantiate a ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useReducer")," hook. What you get back is a ",Object(s.b)("strong",{parentName:"p"},"read-only")," ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"state"),"\nand a ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"dispatch")," function which youâ€™ll use to trigger the ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"reducer"),"."),Object(s.b)("p",null,"This is one of the key differences when compared to ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useState"),"â€”a ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useReducer"),"\nhook computes the next state internally using a ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"reducer")," function, while a\n",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useState")," hook relies entirely on external calculations for its next state."),Object(s.b)("p",null,"For the rest of the article, weâ€™ll focus on different ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"reducer")," (a.k.a. â€œnew\nstateâ€ calculator) implementation patterns."),Object(s.b)("h2",{id:"reducer-without-any-params",style:{position:"relative"}},"Reducer Without Any Params",Object(s.b)("a",Object.assign({parentName:"h2"},{href:"#reducer-without-any-params","aria-label":"reducer without any params permalink",className:"header-link after"}),Object(s.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(s.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))))),Object(s.b)("p",null,Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"() => newState")),Object(s.b)("p",null,"The primary job of a reducer is to return a new state. In its simplest form, a\nreducer doesnâ€™t even need to accept any parameters."),Object(s.b)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"js"},Object(s.b)("pre",Object.assign({parentName:"div"},{style:{counterReset:"linenumber NaN"},className:"language-js line-numbers"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",Object.assign({parentName:"code"},{className:"gatsby-highlight-code-line"}),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"const")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token function-variable function"}),"reducer")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=>")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"new")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token class-name"}),"Date"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),";")),Object(s.b)("span",Object.assign({parentName:"code"},{className:"gatsby-highlight-code-line"}),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"const")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"["),"date",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," update",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"]")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," React",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"."),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token function"}),"useReducer"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),"reducer",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"new")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token class-name"}),"Date"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),";")),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"return")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"\n  ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"<"),"main",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),">"),"\n    ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"<"),"div",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),">"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"gatsby-highlight-code-line"}),"      Now",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),":")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),"date",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"."),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token function"}),"toLocaleDateString"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),"date",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"."),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token function"}),"toLocaleTimeString"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),"    ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"<"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"/"),"div",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),">"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"gatsby-highlight-code-line"}),"    ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"<"),"button onClick",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"="),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=>")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token function"}),"update"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),">"),"Update",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"<"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"/"),"button",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),">")),"  ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"<"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"/"),"main",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),">"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")),Object(s.b)("span",Object.assign({parentName:"pre"},{"aria-hidden":"true",className:"line-numbers-rows",style:{whiteSpace:"normal",width:"auto",left:"0"}}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"})))),Object(s.b)("p",null,"The names ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"state"),", ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"dispatch"),", and ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"reducer")," are conceptual. In practice, you\ncan name them anything you like. In this example, they are ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"date")," (state),\n",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"update")," (dispatch), and ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"reducer"),"."),Object(s.b)("p",null,"Notice that we invoke ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"update()")," ",Object(s.b)("em",{parentName:"p"},"without")," passing in any parameters. The\ndispatch function signals the hook to run the reducer function, itâ€™s up to you\nwhether you need to send an action with the signal or not. In this case, the\nhook actually runs ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"reducer(currentState, undefined)"),"."),Object(s.b)("h3",{id:"-but-wait-the-reducer-doesnt-accept-any-params",style:{position:"relative"}},"ðŸ¤” But Wait, the Reducer Doesnâ€™t Accept Any Params",Object(s.b)("a",Object.assign({parentName:"h3"},{href:"#-but-wait-the-reducer-doesnt-accept-any-params","aria-label":" but wait the reducer doesnt accept any params permalink",className:"header-link after"}),Object(s.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(s.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))))),Object(s.b)("p",null,"Thatâ€™s right. In JavaScript, just because you pass parameters to a function,\ndoesnâ€™t mean it needs to accept them."),Object(s.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(s.b)("pre",Object.assign({parentName:"div"},{style:{counterReset:"linenumber NaN"},className:"language-js line-numbers"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function-variable function"}),"sayHi")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"hi"'),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," result ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"sayHi"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"2"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"3"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),'// result === "hi"')),Object(s.b)("span",Object.assign({parentName:"pre"},{"aria-hidden":"true",className:"line-numbers-rows",style:{whiteSpace:"normal",width:"auto",left:"0"}}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"})))),Object(s.b)(p.a,{repl:"reducer-pattern-00",header:"",title:"function params",style:{maxHeight:300},mdxType:"Repl"}),Object(s.b)(b.a,{as:"h3",sandbox:"reducer-pattern-00-zuet6",header:"ðŸ‘©â€ðŸ’» Try the No-Params Reducer Example",title:"no-params reducer",style:{maxHeight:375},mdxType:"CodeSandbox"}),Object(s.b)("h2",{id:"reducer-using-current-state",style:{position:"relative"}},"Reducer Using Current State",Object(s.b)("a",Object.assign({parentName:"h2"},{href:"#reducer-using-current-state","aria-label":"reducer using current state permalink",className:"header-link after"}),Object(s.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(s.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))))),Object(s.b)("p",null,Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"(currentState) => newState")),Object(s.b)("p",null,"This form of reducer is useful when you need the current state to calculate the\nnext state."),Object(s.b)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"js"},Object(s.b)("pre",Object.assign({parentName:"div"},{style:{counterReset:"linenumber NaN"},className:"language-js line-numbers"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",Object.assign({parentName:"code"},{className:"gatsby-highlight-code-line"}),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"const")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token function-variable function"}),"reducer")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token parameter"}),"count"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=>")," count ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"+")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"1"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),";")),Object(s.b)("span",Object.assign({parentName:"code"},{className:"gatsby-highlight-code-line"}),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"const")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"["),"count",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," addOne",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"]")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," React",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"."),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token function"}),"useReducer"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),"reducer",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),";")),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"return")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"\n  ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"<"),"main",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),">"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"gatsby-highlight-code-line"}),"    ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"<"),"div",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),">"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),"count",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"<"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"/"),"div",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),">")),Object(s.b)("span",Object.assign({parentName:"code"},{className:"gatsby-highlight-code-line"}),"    ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"<"),"button onClick",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"="),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=>")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token function"}),"addOne"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),">"),"Add ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"1"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"<"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"/"),"button",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),">")),"  ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"<"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"/"),"main",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),">"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")),Object(s.b)("span",Object.assign({parentName:"pre"},{"aria-hidden":"true",className:"line-numbers-rows",style:{whiteSpace:"normal",width:"auto",left:"0"}}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"}),Object(s.b)("span",{parentName:"span"})))),Object(s.b)("p",null,"Once again, the dispatch function, ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"addOne()"),", doesnâ€™t need to pass an action to\n",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"reducer"),"â€”the ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"reducer")," is capable of computing the next state entirely based on\nthe current state."),Object(s.b)(b.a,{as:"h3",sandbox:"reducer-pattern-01-gmuic",title:"current state reducer",style:{maxHeight:375},mdxType:"CodeSandbox"}),Object(s.b)("h2",{id:"takeaways",style:{position:"relative"}},"Takeaways",Object(s.b)("a",Object.assign({parentName:"h2"},{href:"#takeaways","aria-label":"takeaways permalink",className:"header-link after"}),Object(s.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(s.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))))),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"The primary job of a reducer is to produce a new state."),Object(s.b)("li",{parentName:"ul"},"A reducer function can take zero, one, or two params:\n",Object(s.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"([currentState], [dispachedAction])"),"."),Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"dispatch()")," signals the ",Object(s.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"useReducer")," hook to invoke the reducer.")),Object(s.b)("h2",{id:"intermission",style:{position:"relative"}},"Intermission",Object(s.b)("a",Object.assign({parentName:"h2"},{href:"#intermission","aria-label":"intermission permalink",className:"header-link after"}),Object(s.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(s.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))))),Object(s.b)("p",null,"ðŸ˜… Whew, letâ€™s take a break for now. ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"/articles/reducer-patterns/part-2/"}),"In part 2"),": weâ€™ll explore reducers\nthat use actions, as well as actions in combination with the current state."),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"/articles/reducer-patterns/part-2/"}),"Part 2: Reducers with actions")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"/articles/reducer-patterns/part-3/"}),"Part 3: Reducers with switch statements"))))}m.isMDXComponent=!0},"mc/u":function(e,a,t){"use strict";var n=t("52Sp"),s=t("iQNK"),c=t("7oih"),b=t("Al62"),p=function(e,a){var t=Object(b.d)(e),n="Published on "+t;if(a){var s=Object(b.d)(a);t=t+" (updated "+s+")",n=[n,"Updated on "+s].join(". ")}return[t,n]},r={color:"font.body.0",fontSize:"sm"};a.a=function(e){var a=e.children,t=Object(n.a)(e,["children"]),b=t.pageContext,i=b.frontmatter,o=i.title,m=i.published,l=i.updated,j=b.srcPath,O=p(m,l),u=O[0],N=O[1];return Object(s.c)(c.a,t,Object(s.c)("article",null,Object(s.c)("h1",{sx:{color:"font.articleH1"}},o),Object(s.c)("p",null,Object(s.c)("a",{href:"https://github.com/gsong/personal-site/commits/main"+j,sx:r,className:"link-hover","aria-label":N},u)),a))}}}]);
//# sourceMappingURL=component---content-articles-reducer-patterns-part-1-mdx-a58c92a55070770dbda2.js.map