<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45 'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.618rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.33471rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.21225rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.90825rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.86558rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:1.45rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><style data-href="/styles.4f43bc29046fe501af17.css">code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}</style><meta name="generator" content="Gatsby 2.24.9"/><title data-react-helmet="true">React.useReducer Reducer Patterns, Part 1 | George Song’s Website</title><meta data-react-helmet="true" name="description" content="There&#x27;s more than one way to write reducers."/><meta data-react-helmet="true" property="og:title" content="React.useReducer Reducer Patterns, Part 1"/><meta data-react-helmet="true" property="og:description" content="There&#x27;s more than one way to write reducers."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@zukefresh"/><meta data-react-helmet="true" name="twitter:title" content="React.useReducer Reducer Patterns, Part 1"/><meta data-react-helmet="true" name="twitter:description" content="There&#x27;s more than one way to write reducers."/><meta data-react-helmet="true" name="keywords" content="javascript, react"/><link rel="icon" href="/favicon-32x32.png?v=7dac84e604769a2b765823229eec619b"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=7dac84e604769a2b765823229eec619b"/><link rel="alternate" type="application/rss+xml" title="George Song’s Article RSS Feed" href="/articles/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-ce3645d0a95b08614fba.js"/><link as="script" rel="preload" href="/styles-fa79fef4936efa84b233.js"/><link as="script" rel="preload" href="/app-8472620adb92d9f2a11c.js"/><link as="script" rel="preload" href="/component---content-articles-reducer-patterns-part-1-mdx-9c7949427d552c49046c.js"/><link as="fetch" rel="preload" href="/page-data/articles/reducer-patterns/part-1/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/static/d/2986802049.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/static/d/2986802049.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/static/d/4120343723.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/static/d/4120343723.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="w6zcm7">body{color:text;background-color:var(--theme-ui-colors-background-0,hsl(44,87%,98%));background-color:var(--theme-ui-colors-background-1,hsl(44,87%,94%));background-color:var(--theme-ui-colors-background-2,hsl(44,100%,87%));}</style><style data-emotion-css="1d7m1w5">*{box-sizing:border-box;}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="goa2gb">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}body{background-color:var(--theme-ui-colors-background-0,hsl(44,87%,98%));color:var(--theme-ui-colors-font-body-1,hsl(192,81%,14%));margin:auto;max-width:600px;width:95vw;}a{color:var(--theme-ui-colors-link,hsl(205,80%,40%));-webkit-text-decoration:none;text-decoration:none;}a:focus,a:hover{-webkit-text-decoration:underline;text-decoration:underline;}button{background-color:var(--theme-ui-colors-button-0,hsl(205,50%,50%));border:0;border-radius:0.3em;box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);color:white;padding:0.5rem 1rem;}button:active{box-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);}button:focus,button:hover{background-color:var(--theme-ui-colors-button-1,hsl(205,80%,40%));cursor:pointer;}h3{font-weight:normal;}code[class*="language-"],pre[class*="language-"]{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Andale Mono","Ubuntu Mono","Courier New",monospace;font-size:clamp(0.75rem,2vw,0.875rem);}.gatsby-highlight{background-color:var(--theme-ui-colors-background-1,hsl(44,87%,94%));border-radius:0.3em;box-shadow:0 1px 2px 0 rgba(0,0,0,0.05);margin:0.5em 0 1.45rem;overflow:auto;padding:1em;}@supports (display:grid){.gatsby-highlight{position:relative;left:50%;right:50%;margin-left:calc((min(100vw,860px) / 2 * -1) + 0px);margin-right:calc((min(100vw,860px) / 2 * -1) + 0px);width:100vw;max-width:860px;}}.gatsby-highlight pre[class*="language-"]{background-color:transparent;float:left;margin:0;min-width:100%;overflow:initial;padding:0;}.gatsby-highlight pre[class*="language-"].line-numbers{padding-left:2.8em;}.gatsby-highlight-code-line{background-color:var(--theme-ui-colors-background-2,hsl(44,100%,87%));border-left:0.25em solid hsl(0,100%,80%);display:block;margin-left:-1em;margin-right:-1em;padding-left:0.75em;padding-right:1em;}li .gatsby-highlight{margin-bottom:calc(1.45rem / 2);}@supports (display:grid){li .gatsby-highlight{margin-left:calc((min(100vw,860px) / 2 * -1) + -0.725rem);}}</style><style data-emotion-css="1ctb7zc">.css-1ctb7zc{margin-top:1rem;margin-bottom:2rem;margin-left:0;margin-right:0;}</style><header class="css-1ctb7zc"><h1><style data-emotion-css="wdzzsl">.css-wdzzsl{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--theme-ui-colors-font-body-1,hsl(192,81%,14%));display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:1.125rem;}.css-wdzzsl:focus,.css-wdzzsl:hover{color:var(--theme-ui-colors-link,hsl(205,80%,40%));-webkit-text-decoration:none;text-decoration:none;}</style><a class="css-wdzzsl" href="/"><style data-emotion-css="52mbxe">.css-52mbxe{border-radius:50%;max-width:50px;max-height:50px;}</style><div class="css-52mbxe gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:115px;height:115px"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAMEAQIF/8QAFwEBAQEBAAAAAAAAAAAAAAAAAgEAA//aAAwDAQACEAMQAAABnp7Y1upzHIlAg6T/xAAbEAACAgMBAAAAAAAAAAAAAAABAgMRABIhE//aAAgBAQABBQJ20VlnteqwPpWCLjMdmNYJmI//xAAYEQACAwAAAAAAAAAAAAAAAAABEAIRMf/aAAgBAwEBPwEC1HF//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAQIf/aAAgBAgEBPwFbk5//xAAcEAACAgIDAAAAAAAAAAAAAAAAARFhAkESMWL/2gAIAQEABj8CmJejlKdCcI8nbEJWZUaP/8QAHBABAAMAAwEBAAAAAAAAAAAAAQARIUFRYTGR/9oACAEBAAE/IcVsoewFvk/JiNi4/S9ZSwP1hhIYdznUYW44WS4JH//aAAwDAQACAAMAAAAQL/8AA//EABgRAAMBAQAAAAAAAAAAAAAAAAABMRAR/9oACAEDAQE/EKGdZbP/xAAZEQACAwEAAAAAAAAAAAAAAAAAARAhUWH/2gAIAQIBAT8QxF0Vcf/EAB0QAQEAAgMAAwAAAAAAAAAAAAERACExQVFhsdH/2gAIAQEAAT8QMWxM7WjeRpQroicTKfIY3JdzONW20J584d9bpUxChArt94BqADeZcDWXcBm4HfH9z//Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/9dee0a9aad2546238052bcc628fd0146/19daf/gs-headshot.jpg 1x,
/static/9dee0a9aad2546238052bcc628fd0146/f6634/gs-headshot.jpg 1.5x,
/static/9dee0a9aad2546238052bcc628fd0146/cd0be/gs-headshot.jpg 2x" /><img loading="lazy" width="115" height="115" srcset="/static/9dee0a9aad2546238052bcc628fd0146/19daf/gs-headshot.jpg 1x,
/static/9dee0a9aad2546238052bcc628fd0146/f6634/gs-headshot.jpg 1.5x,
/static/9dee0a9aad2546238052bcc628fd0146/cd0be/gs-headshot.jpg 2x" src="/static/9dee0a9aad2546238052bcc628fd0146/19daf/gs-headshot.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><style data-emotion-css="qouyfz">.css-qouyfz{margin-left:0.75rem;}</style><div class="css-qouyfz">George Song</div></a></h1></header><main><article><style data-emotion-css="1ejsnnb">.css-1ejsnnb{color:var(--theme-ui-colors-font-articleH1,hsl(331,64%,52%));}</style><h1 class="css-1ejsnnb">React.useReducer Reducer Patterns, Part 1</h1><style data-emotion-css="16x22ed">.css-16x22ed{color:var(--theme-ui-colors-font-body-0,hsl(194,14%,40%));font-size:0.875rem;}</style><p class="css-16x22ed">July 19, 2020</p><p class="css-0">I see a lot of people, especially those new to React hooks, shy away from
<a href="https://reactjs.org/docs/hooks-reference.html#usereducer" class="css-0"><code class="language-text css-0">useReducer</code></a> in favor of multiple <code class="language-text css-0">useState</code>s. I think some of it
is the simplicity of the <code class="language-text css-0">useState</code> API, and some of it is assumed complexity
via association with <a href="https://redux.js.org" class="css-0">Redux</a>. In practice, <code class="language-text css-0">useReducer</code> has a lot more in
common with <code class="language-text css-0">useState</code> than Redux.</p><p class="css-0">The <code class="language-text css-0">useState</code> API has two parts: the state and the state setter. When you want
to update the state, you replace it using the state setter.</p><p class="css-0"><img src="/0087a4b5d5c8f19be163d58df5bc3a97/setState-flow.svg" alt="React.useState set state flow" class="css-0"/></p><p class="css-0">The <code class="language-text css-0">useReducer</code> API has three parts: the state, an action dispatcher, and a
reducer to produce the new state.</p><p class="css-0"><img src="/abafce4f393e1fe25f312651b7579657/dispatch-flow.svg" alt="React.useReducer dispatch flow" class="css-0"/></p><p class="css-0">When you want to update the state:</p><ol class="css-0"><li class="css-0">Dispatch an action.</li><li class="css-0">The hook passes the current state and the action to the reducer function.</li><li class="css-0">The reducer computes a new state.</li><li class="css-0">The state is updated with the new state.</li></ol><p class="css-0"><code class="language-text css-0">useReducer</code> takes care of steps 2 and 4. You’re responsible for steps 1 and 3.</p><h1 class="css-0">The Reducer Function</h1><p class="css-0">These are all valid signatures for reducer functions:</p><div class="gatsby-highlight css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="token punctuation">(</span><span class="token parameter">currentState<span class="token punctuation">,</span> dispachedAction</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">newState</span>
<span class="token punctuation">(</span><span class="token parameter">currentState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">newState</span>
<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> newState</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div><p class="css-0">As you can see, <mark>the primary job of a reducer is to produce a new
state</mark>, optionally taking into account the current state and the
dispatched action.</p><h2 class="css-0">Putting It All Together With useReducer</h2><p class="css-0"><a href="https://reactjs.org/docs/hooks-reference.html#usereducer" class="css-0">The signature of <code class="language-text css-0">useReducer</code></a> is:</p><div class="gatsby-highlight css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div><p class="css-0">You pass in a <code class="language-text css-0">reducer</code> function (and optionally an <code class="language-text css-0">initialState</code>) to
instantiate a <code class="language-text css-0">useReducer</code> hook. What you get back is a <strong class="css-0">read-only</strong> <code class="language-text css-0">state</code>
and a <code class="language-text css-0">dispatch</code> function which you’ll use to trigger the <code class="language-text css-0">reducer</code>.</p><p class="css-0">This is one of the key differences when compared to <code class="language-text css-0">useState</code>—a <code class="language-text css-0">useReducer</code>
hook computes the next state internally using a <code class="language-text css-0">reducer</code> function, while a
<code class="language-text css-0">useState</code> hook relies entirely on external calculations for its next state.</p><p class="css-0">For the rest of the article, we’ll focus on different <code class="language-text css-0">reducer</code> (a.k.a. “new
state” calculator) implementation patterns.</p><h2 class="css-0">Reducer Without Any Params</h2><p class="css-0"><code class="language-text css-0">() =&gt; newState</code></p><p class="css-0">The primary job of a reducer is to return a new state. In its simplest form, a
reducer doesn’t even need to accept any parameters.</p><div class="gatsby-highlight has-highlighted-lines css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>date<span class="token punctuation">,</span> update<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>main<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
<span class="gatsby-highlight-code-line">      Now<span class="token operator">:</span> <span class="token punctuation">{</span>date<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>date<span class="token punctuation">.</span><span class="token function">toLocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="gatsby-highlight-code-line">    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Update<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><p class="css-0">The names <code class="language-text css-0">state</code>, <code class="language-text css-0">dispatch</code>, and <code class="language-text css-0">reducer</code> are conceptual. In practice, you
can name them anything you like. In this example, they are <code class="language-text css-0">date</code> (state),
<code class="language-text css-0">update</code> (dispatch), and <code class="language-text css-0">reducer</code>.</p><p class="css-0">Notice that we invoke <code class="language-text css-0">update()</code> <em class="css-0">without</em> passing in any parameters. The
dispatch function signals the hook to run the reducer function, it’s up to you
whether you need to send an action with the signal or not. In this case, the
hook actually runs <code class="language-text css-0">reducer(currentState, undefined)</code>.</p><h3 class="css-0">🤔 But Wait, the Reducer Doesn’t Accept Any Params</h3><p class="css-0">That’s right. In JavaScript, just because you pass parameters to a function,
doesn’t mean it needs to accept them.</p><div class="gatsby-highlight css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="token keyword">const</span> <span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;hi&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// result === &quot;hi&quot;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div><p><button>Load Repl</button></p><h3>👩‍💻 Try the No-Params Reducer Example</h3><p><button>Load CodeSandbox</button></p><h2 class="css-0">Reducer Using Current State</h2><p class="css-0"><code class="language-text css-0">(currentState) =&gt; newState</code></p><p class="css-0">This form of reducer is useful when you need the current state to calculate the
next state.</p><div class="gatsby-highlight has-highlighted-lines css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> addOne<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>main<span class="token operator">&gt;</span>
<span class="gatsby-highlight-code-line">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span><span class="gatsby-highlight-code-line">    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">addOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Add <span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><p class="css-0">Once again, the dispatch function, <code class="language-text css-0">addOne()</code>, doesn’t need to pass an action to
<code class="language-text css-0">reducer</code>—the <code class="language-text css-0">reducer</code> is capable of computing the next state entirely based on
the current state.</p><h3>👩‍💻 Try It Out for Yourself</h3><p><button>Load CodeSandbox</button></p><h2 class="css-0">Intermission</h2><p class="css-0">😅 Whew, let’s take a break for now. Coming in part 2: we’ll explore reducers
that use actions, as well as actions in combination with the current state.</p></article></main><style data-emotion-css="15xkdad">.css-15xkdad{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--theme-ui-colors-font-body-0,hsl(194,14%,40%));display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;font-size:0.875rem;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:1rem;margin-top:0.5rem;}</style><footer class="css-15xkdad"><div>George Song © <!-- -->2020</div><style data-emotion-css="1hc3b0">.css-1hc3b0{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:1.25rem;}</style><div class="css-1hc3b0"><style data-emotion-css="bb33hq">.css-bb33hq{color:var(--theme-ui-colors-font-body-0,hsl(194,14%,40%));}.css-bb33hq:focus,.css-bb33hq:hover{color:var(--theme-ui-colors-link,hsl(205,80%,40%));}</style><a href="https://twitter.com/zukefresh" aria-label="Visit my Twitter" class="css-bb33hq"><style data-emotion-css="1nllhmg">.css-1nllhmg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px;width:48px;}</style><div class="css-1nllhmg"><svg aria-hidden="true" viewBox="0 0 512 512" width="1em" height="1em"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></div></a><a href="https://github.com/gsong/personal-site" aria-label="Visit my GitHub" class="css-bb33hq"><div class="css-1nllhmg"><svg aria-hidden="true" viewBox="0 0 496 512" width="1em" height="1em"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></div></a><a href="https://www.instagram.com/zukefresh/" aria-label="Visit my Instagram" class="css-bb33hq"><div class="css-1nllhmg"><svg aria-hidden="true" viewBox="0 0 448 512" width="1em" height="1em"><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg></div></a><a href="https://www.linkedin.com/in/gsong/" aria-label="Visit my LinkedIn" class="css-bb33hq"><div class="css-1nllhmg"><svg aria-hidden="true" viewBox="0 0 448 512" width="1em" height="1em"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></div></a></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/articles/reducer-patterns/part-1/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e39557e008be311f6096.js"],"app":["/app-8472620adb92d9f2a11c.js"],"component---content-articles-reducer-patterns-part-1-mdx":["/component---content-articles-reducer-patterns-part-1-mdx-9c7949427d552c49046c.js"],"component---content-articles-remove-unwanted-properties-index-mdx":["/component---content-articles-remove-unwanted-properties-index-mdx-f0da56888a948d7d4df8.js"],"component---content-articles-to-locale-date-string-index-mdx":["/component---content-articles-to-locale-date-string-index-mdx-0d3b6b5e62b23ce1c76a.js"],"component---src-pages-404-mdx":["/component---src-pages-404-mdx-6c3e1de27d753f786300.js"],"component---src-pages-drafts-colophon-mdx":["/component---src-pages-drafts-colophon-mdx-9add4c643519eb1b4bda.js"],"component---src-pages-index-mdx":["/component---src-pages-index-mdx-db557080a717da5cd267.js"]};/*]]>*/</script><script src="/polyfill-e39557e008be311f6096.js" nomodule=""></script><script src="/component---content-articles-reducer-patterns-part-1-mdx-9c7949427d552c49046c.js" async=""></script><script src="/app-8472620adb92d9f2a11c.js" async=""></script><script src="/styles-fa79fef4936efa84b233.js" async=""></script><script src="/webpack-runtime-ce3645d0a95b08614fba.js" async=""></script></body></html>