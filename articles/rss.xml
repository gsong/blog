<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[George Song‚Äôs Articles]]></title><description><![CDATA[Musings of a middle-aged developer.]]></description><link>https://gsong.dev</link><generator>GatsbyJS</generator><lastBuildDate>Sun, 02 Aug 2020 23:44:40 GMT</lastBuildDate><atom:link href="https://gsong.dev/articles/rss.xml" rel="self" type="application/rss+xml"/><copyright><![CDATA[Copyright 2020, George Song]]></copyright><language><![CDATA[en]]></language><managingEditor><![CDATA[george@gsong.dev (George Song)]]></managingEditor><webMaster><![CDATA[george@gsong.dev (George Song)]]></webMaster><item><title><![CDATA[React.useReducer Reducer Patterns, Part 3]]></title><description><![CDATA[There's more than one way to write reducers, part 3.]]></description><link>https://gsong.dev/articles/reducer-patterns/part-3</link><guid isPermaLink="false">https://gsong.dev/articles/reducer-patterns/part-3</guid><pubDate>Sun, 02 Aug 2020 23:32:21 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;w6zcm7&quot;&gt;body{color:text;background-color:var(--theme-ui-colors-background-0,hsl(44,87%,98%));background-color:var(--theme-ui-colors-background-1,hsl(44,87%,94%));background-color:var(--theme-ui-colors-background-2,hsl(44,100%,87%));}&lt;/style&gt;&lt;style data-emotion-css=&quot;1d7m1w5&quot;&gt;*{box-sizing:border-box;}body{margin:0;}&lt;/style&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;/articles/reducer-patterns/part-1/&quot; class=&quot;css-0&quot;&gt;Part 1: Introduction to &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; and basic reducer patterns&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;/articles/reducer-patterns/part-2/&quot; class=&quot;css-0&quot;&gt;Part 2: Reducers with actions&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-0&quot;&gt;So far in parts 1 and 2 of this series, we‚Äôve learned that:&lt;/p&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;the primary job of a reducer is to produce a new state&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;dispatched actions can take any shape you want&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-0&quot;&gt;In part 3, we‚Äôll be looking at the most common pattern of reducers and actions
that you‚Äôll come across in documentation and online examples, and model a state
chart using a reducer.&lt;/p&gt;&lt;h2 id=&quot;table-of-contents&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Table of Contents&lt;a href=&quot;#table-of-contents&quot; aria-label=&quot;table of contents permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;div class=&quot;toc css-0&quot;&gt;&lt;/div&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;#typical-usereducer-pattern&quot; class=&quot;css-0&quot;&gt;Typical &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; Pattern&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;#tightly-coupled-state-values&quot; class=&quot;css-0&quot;&gt;Tightly Coupled State Values&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;#nested-switch-statements&quot; class=&quot;css-0&quot;&gt;Nested Switch Statements&lt;/a&gt;&lt;/p&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#initial-hook-state&quot; class=&quot;css-0&quot;&gt;Initial Hook State&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#translate-a-state-chart-to-a-reducer-function&quot; class=&quot;css-0&quot;&gt;Translate a State Chart to a Reducer Function&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#putting-it-all-together&quot; class=&quot;css-0&quot;&gt;Putting It All Together&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;#takeaways&quot; class=&quot;css-0&quot;&gt;Takeaways&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;undefined&gt;&lt;/undefined&gt;&lt;h2 id=&quot;typical-usereducer-pattern&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Typical &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; Pattern&lt;a href=&quot;#typical-usereducer-pattern&quot; aria-label=&quot;typical usereducer pattern permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;Most &lt;code class=&quot;language-text css-0&quot;&gt;React.useReducer&lt;/code&gt; examples you encounter dispatch actions that look
something like &lt;code class=&quot;language-text css-0&quot;&gt;{ type, paylod }&lt;/code&gt;, with reducer functions that consists of a
switch statement that matches on &lt;code class=&quot;language-text css-0&quot;&gt;type&lt;/code&gt; and uses the &lt;code class=&quot;language-text css-0&quot;&gt;payload&lt;/code&gt; to calculate the
next state.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;Remember the reducer signature is &lt;code class=&quot;language-text css-0&quot;&gt;(currentState, action) =&amp;gt; nextState&lt;/code&gt;. A
&lt;code class=&quot;language-text css-0&quot;&gt;switch&lt;/code&gt; statement based reducer looks like:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;add&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; payload&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; initialValue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;To trigger this reducer, there are two possible actions we can dispatch.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;add&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;We can encapsulate these two possibilities with &lt;a href=&quot;https://redux.js.org/basics/actions#action-creators&quot; class=&quot;css-0&quot;&gt;bound action
creators&lt;/a&gt;:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;add&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reset&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;Action creators are optional‚Äîinstead, you can just dispatch actions directly
where needed. They do offer a much nicer interface for the hook user by hiding
the reducer‚Äôs implementation details.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;The complete &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; definition looks like:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; initialValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;add&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; payload&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; initialValue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; initialValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;add&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reset&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;Our hook interface is now &lt;code class=&quot;language-text css-0&quot;&gt;count&lt;/code&gt;, plus the &lt;code class=&quot;language-text css-0&quot;&gt;add()&lt;/code&gt; and &lt;code class=&quot;language-text css-0&quot;&gt;reset()&lt;/code&gt; functions.&lt;/p&gt;&lt;h3&gt;üë©‚Äçüíª Try It Out&lt;/h3&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;h2 id=&quot;tightly-coupled-state-values&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Tightly Coupled State Values&lt;a href=&quot;#tightly-coupled-state-values&quot; aria-label=&quot;tightly coupled state values permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;Great, so far we‚Äôve explored quite a few reducer and action patterns, but we
haven‚Äôt talked about &lt;em class=&quot;css-0&quot;&gt;why&lt;/em&gt; we use &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt;. In fact, you can express the
previous example more clearly as a &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt; hook:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; initialValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reset&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;üë©‚Äçüíª Try It Out&lt;/h3&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;The reason is because &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt; optimizes the use case of managing a single
state value. This implies that &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt;‚Äôs sweet spot is when we have more
than a single state value that we need to keep track of.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;What if we want to add an undo function, so we can get back the previous counts?
One way is to keep track of the count history. Instead of just keeping track of
the latest count, our state now looks like:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; initialState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;We update the reducer with the following changes:&lt;/p&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Return the current state as-is if we add zero, since this action doesn‚Äôt
change the state.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;If we‚Äôre adding any other value, also add the current count to the history
stack.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Add a new case to handle the &lt;code class=&quot;language-text css-0&quot;&gt;undo&lt;/code&gt; action.&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;add&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;payload &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; payload&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; initialState&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;undo&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; lastCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; lastCount&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;Lastly we add another bounded action creator to handle &lt;code class=&quot;language-text css-0&quot;&gt;undo()&lt;/code&gt;:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;undo&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;undo&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;Putting it all together:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; initialState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;add&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;payload &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; payload&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; initialState&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;undo&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; lastCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; lastCount&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;add&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reset&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;undo&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;undo&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;We see that &lt;code class=&quot;language-text css-0&quot;&gt;count&lt;/code&gt; and &lt;code class=&quot;language-text css-0&quot;&gt;history&lt;/code&gt; are tightly coupled. When we add a value, we
update &lt;code class=&quot;language-text css-0&quot;&gt;count&lt;/code&gt; and add the previous count to the &lt;code class=&quot;language-text css-0&quot;&gt;history&lt;/code&gt; stack. When we undo,
we replace &lt;code class=&quot;language-text css-0&quot;&gt;count&lt;/code&gt; by popping the last item from the &lt;code class=&quot;language-text css-0&quot;&gt;history&lt;/code&gt; stack.&lt;/p&gt;&lt;h3&gt;üë©‚Äçüíª Try It Out&lt;/h3&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;h2 id=&quot;nested-switch-statements&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Nested Switch Statements&lt;a href=&quot;#nested-switch-statements&quot; aria-label=&quot;nested switch statements permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;Did you know you can nest a &lt;code class=&quot;language-text css-0&quot;&gt;switch&lt;/code&gt; statement inside the &lt;code class=&quot;language-text css-0&quot;&gt;case&lt;/code&gt; clause of
another switch statement? Using this technique, you can perform very
sophisticated actions with the &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; hook, especially when coupled with
&lt;code class=&quot;language-text css-0&quot;&gt;useEffect&lt;/code&gt;.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;Let‚Äôs make a seemingly simple form with a single input and couple buttons:&lt;/p&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;The input will only accept &lt;code class=&quot;language-text css-0&quot;&gt;[A-Za-z]&lt;/code&gt; characters&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Submit button to POST the input value to an API&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Reset button to reset the input value to the last successful submission&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-0&quot;&gt;Easy peasy, right? That‚Äôs how forms always start out, except when you start
considering:&lt;/p&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;If input is invalid, display error message and don‚Äôt allow submission.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Don‚Äôt allow submission if input value hasn‚Äôt changed from the previous
submission.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;During submission, disable all inputs.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Display submission status.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;When submission error occurs, the submit button remains active to allow for
retry.&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-0&quot;&gt;How would you satisfy all these requirements? Try to capture all the logic
imperatively? Use one of the many React form libraries? I happen to think &lt;a href=&quot;https://statecharts.github.io&quot; class=&quot;css-0&quot;&gt;state
charts&lt;/a&gt; are a great way to declaratively satisfy all the requirements.&lt;/p&gt;&lt;style data-emotion-css=&quot;gpkyxx&quot;&gt;.css-gpkyxx{display:block;margin:auto;margin-bottom:1.45rem;max-width:283px;}.css-gpkyxx tspan{fill:black;stroke:none;}&lt;/style&gt;&lt;svg id=&quot;mermaid-1596401273945&quot; width=&quot;100%&quot; height=&quot;100%&quot; viewBox=&quot;0 0 282.00390625 320&quot; aria-labelledby=&quot;form-state-chart&quot; class=&quot;css-gpkyxx&quot;&gt;&lt;title id=&quot;form-state-chart&quot;&gt;State chart describing form states and transitions&lt;/title&gt;&lt;style&gt;#mermaid-1596401273945 .label{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);fill:#333;color:#333}#mermaid-1596401273945 .label text{fill:#333}#mermaid-1596401273945 .node rect,#mermaid-1596401273945 .node circle,#mermaid-1596401273945 .node ellipse,#mermaid-1596401273945 .node polygon,#mermaid-1596401273945 .node path{fill:#ECECFF;stroke:#9370db;stroke-width:1px}#mermaid-1596401273945 .node .label{text-align:center;fill:#333}#mermaid-1596401273945 .node.clickable{cursor:pointer}#mermaid-1596401273945 .arrowheadPath{fill:#333}#mermaid-1596401273945 .edgePath .path{stroke:#333;stroke-width:1.5px}#mermaid-1596401273945 .flowchart-link{stroke:#333;fill:none}#mermaid-1596401273945 .edgeLabel{background-color:#e8e8e8;text-align:center}#mermaid-1596401273945 .edgeLabel rect{opacity:0.9}#mermaid-1596401273945 .edgeLabel span{color:#333}#mermaid-1596401273945 .cluster rect{fill:#ffffde;stroke:#aa3;stroke-width:1px}#mermaid-1596401273945 .cluster text{fill:#333}#mermaid-1596401273945 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);font-size:12px;background:#ffffde;border:1px solid #aa3;border-radius:2px;pointer-events:none;z-index:100}#mermaid-1596401273945 .actor{stroke:#ccf;fill:#ECECFF}#mermaid-1596401273945 text.actor&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1596401273945 .actor-line{stroke:grey}#mermaid-1596401273945 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333}#mermaid-1596401273945 .messageLine1{stroke-width:1.5;stroke-dasharray:2, 2;stroke:#333}#mermaid-1596401273945 #arrowhead path{fill:#333;stroke:#333}#mermaid-1596401273945 .sequenceNumber{fill:#fff}#mermaid-1596401273945 #sequencenumber{fill:#333}#mermaid-1596401273945 #crosshead path{fill:#333;stroke:#333}#mermaid-1596401273945 .messageText{fill:#333;stroke:#333}#mermaid-1596401273945 .labelBox{stroke:#ccf;fill:#ECECFF}#mermaid-1596401273945 .labelText,#mermaid-1596401273945 .labelText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1596401273945 .loopText,#mermaid-1596401273945 .loopText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1596401273945 .loopLine{stroke-width:2px;stroke-dasharray:2, 2;stroke:#ccf;fill:#ccf}#mermaid-1596401273945 .note{stroke:#aa3;fill:#fff5ad}#mermaid-1596401273945 .noteText,#mermaid-1596401273945 .noteText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1596401273945 .activation0{fill:#f4f4f4;stroke:#666}#mermaid-1596401273945 .activation1{fill:#f4f4f4;stroke:#666}#mermaid-1596401273945 .activation2{fill:#f4f4f4;stroke:#666}#mermaid-1596401273945 .mermaid-main-font{font-family:&amp;quot;trebuchet ms&amp;quot;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 .section{stroke:none;opacity:0.2}#mermaid-1596401273945 .section0{fill:rgba(102,102,255,0.49)}#mermaid-1596401273945 .section2{fill:#fff400}#mermaid-1596401273945 .section1,#mermaid-1596401273945 .section3{fill:#fff;opacity:0.2}#mermaid-1596401273945 .sectionTitle0{fill:#333}#mermaid-1596401273945 .sectionTitle1{fill:#333}#mermaid-1596401273945 .sectionTitle2{fill:#333}#mermaid-1596401273945 .sectionTitle3{fill:#333}#mermaid-1596401273945 .sectionTitle{text-anchor:start;font-size:11px;text-height:14px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 .grid .tick{stroke:#d3d3d3;opacity:0.8;shape-rendering:crispEdges}#mermaid-1596401273945 .grid .tick text{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 .grid path{stroke-width:0}#mermaid-1596401273945 .today{fill:none;stroke:red;stroke-width:2px}#mermaid-1596401273945 .task{stroke-width:2}#mermaid-1596401273945 .taskText{text-anchor:middle;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 .taskText:not([font-size]){font-size:11px}#mermaid-1596401273945 .taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 .taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}#mermaid-1596401273945 .task.clickable{cursor:pointer}#mermaid-1596401273945 .taskText.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1596401273945 .taskTextOutsideLeft.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1596401273945 .taskTextOutsideRight.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1596401273945 .taskText0,#mermaid-1596401273945 .taskText1,#mermaid-1596401273945 .taskText2,#mermaid-1596401273945 .taskText3{fill:#fff}#mermaid-1596401273945 .task0,#mermaid-1596401273945 .task1,#mermaid-1596401273945 .task2,#mermaid-1596401273945 .task3{fill:#8a90dd;stroke:#534fbc}#mermaid-1596401273945 .taskTextOutside0,#mermaid-1596401273945 .taskTextOutside2{fill:#000}#mermaid-1596401273945 .taskTextOutside1,#mermaid-1596401273945 .taskTextOutside3{fill:#000}#mermaid-1596401273945 .active0,#mermaid-1596401273945 .active1,#mermaid-1596401273945 .active2,#mermaid-1596401273945 .active3{fill:#bfc7ff;stroke:#534fbc}#mermaid-1596401273945 .activeText0,#mermaid-1596401273945 .activeText1,#mermaid-1596401273945 .activeText2,#mermaid-1596401273945 .activeText3{fill:#000 !important}#mermaid-1596401273945 .done0,#mermaid-1596401273945 .done1,#mermaid-1596401273945 .done2,#mermaid-1596401273945 .done3{stroke:grey;fill:#d3d3d3;stroke-width:2}#mermaid-1596401273945 .doneText0,#mermaid-1596401273945 .doneText1,#mermaid-1596401273945 .doneText2,#mermaid-1596401273945 .doneText3{fill:#000 !important}#mermaid-1596401273945 .crit0,#mermaid-1596401273945 .crit1,#mermaid-1596401273945 .crit2,#mermaid-1596401273945 .crit3{stroke:#f88;fill:red;stroke-width:2}#mermaid-1596401273945 .activeCrit0,#mermaid-1596401273945 .activeCrit1,#mermaid-1596401273945 .activeCrit2,#mermaid-1596401273945 .activeCrit3{stroke:#f88;fill:#bfc7ff;stroke-width:2}#mermaid-1596401273945 .doneCrit0,#mermaid-1596401273945 .doneCrit1,#mermaid-1596401273945 .doneCrit2,#mermaid-1596401273945 .doneCrit3{stroke:#f88;fill:#d3d3d3;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}#mermaid-1596401273945 .milestone{transform:rotate(45deg) scale(0.8, 0.8)}#mermaid-1596401273945 .milestoneText{font-style:italic}#mermaid-1596401273945 .doneCritText0,#mermaid-1596401273945 .doneCritText1,#mermaid-1596401273945 .doneCritText2,#mermaid-1596401273945 .doneCritText3{fill:#000 !important}#mermaid-1596401273945 .activeCritText0,#mermaid-1596401273945 .activeCritText1,#mermaid-1596401273945 .activeCritText2,#mermaid-1596401273945 .activeCritText3{fill:#000 !important}#mermaid-1596401273945 .titleText{text-anchor:middle;font-size:18px;fill:#000;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 g.classGroup text{fill:#9370db;stroke:none;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);font-size:10px}#mermaid-1596401273945 g.classGroup text .title{font-weight:bolder}#mermaid-1596401273945 g.clickable{cursor:pointer}#mermaid-1596401273945 g.classGroup rect{fill:#ECECFF;stroke:#9370db}#mermaid-1596401273945 g.classGroup line{stroke:#9370db;stroke-width:1}#mermaid-1596401273945 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5}#mermaid-1596401273945 .classLabel .label{fill:#9370db;font-size:10px}#mermaid-1596401273945 .relation{stroke:#9370db;stroke-width:1;fill:none}#mermaid-1596401273945 .dashed-line{stroke-dasharray:3}#mermaid-1596401273945 #compositionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1596401273945 #compositionEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1596401273945 #aggregationStart{fill:#ECECFF;stroke:#9370db;stroke-width:1}#mermaid-1596401273945 #aggregationEnd{fill:#ECECFF;stroke:#9370db;stroke-width:1}#mermaid-1596401273945 #dependencyStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1596401273945 #dependencyEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1596401273945 #extensionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1596401273945 #extensionEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1596401273945 .commit-id,#mermaid-1596401273945 .commit-msg,#mermaid-1596401273945 .branch-label{fill:lightgrey;color:lightgrey;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 .pieTitleText{text-anchor:middle;font-size:25px;fill:#000;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 .slice{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 g.stateGroup text{fill:#9370db;stroke:none;font-size:10px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 g.stateGroup text{fill:#9370db;fill:#333;stroke:none;font-size:10px}#mermaid-1596401273945 g.statediagram-cluster .cluster-label text{fill:#333}#mermaid-1596401273945 g.stateGroup .state-title{font-weight:bolder;fill:#000}#mermaid-1596401273945 g.stateGroup rect{fill:#ECECFF;stroke:#9370db}#mermaid-1596401273945 g.stateGroup line{stroke:#9370db;stroke-width:1}#mermaid-1596401273945 .transition{stroke:#9370db;stroke-width:1;fill:none}#mermaid-1596401273945 .stateGroup .composit{fill:white;border-bottom:1px}#mermaid-1596401273945 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px}#mermaid-1596401273945 .state-note{stroke:#aa3;fill:#fff5ad}#mermaid-1596401273945 .state-note text{fill:black;stroke:none;font-size:10px}#mermaid-1596401273945 .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.7}#mermaid-1596401273945 .edgeLabel text{fill:#333}#mermaid-1596401273945 .stateLabel text{fill:#000;font-size:10px;font-weight:bold;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1596401273945 .node circle.state-start{fill:black;stroke:black}#mermaid-1596401273945 .node circle.state-end{fill:black;stroke:white;stroke-width:1.5}#mermaid-1596401273945 #statediagram-barbEnd{fill:#9370db}#mermaid-1596401273945 .statediagram-cluster rect{fill:#ECECFF;stroke:#9370db;stroke-width:1px}#mermaid-1596401273945 .statediagram-cluster rect.outer{rx:5px;ry:5px}#mermaid-1596401273945 .statediagram-state .divider{stroke:#9370db}#mermaid-1596401273945 .statediagram-state .title-state{rx:5px;ry:5px}#mermaid-1596401273945 .statediagram-cluster.statediagram-cluster .inner{fill:white}#mermaid-1596401273945 .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0}#mermaid-1596401273945 .statediagram-cluster .inner{rx:0;ry:0}#mermaid-1596401273945 .statediagram-state rect.basic{rx:5px;ry:5px}#mermaid-1596401273945 .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#efefef}#mermaid-1596401273945 .note-edge{stroke-dasharray:5}#mermaid-1596401273945 .statediagram-note rect{fill:#fff5ad;stroke:#aa3;stroke-width:1px;rx:0;ry:0}:root{--mermaid-font-family: &amp;#x27;&amp;quot;trebuchet ms&amp;quot;, verdana, arial&amp;#x27;;--mermaid-font-family: &amp;quot;Comic Sans MS&amp;quot;, &amp;quot;Comic Sans&amp;quot;, cursive}#mermaid-1596401273945 .error-icon{fill:#522}#mermaid-1596401273945 .error-text{fill:#522;stroke:#522}#mermaid-1596401273945 .edge-thickness-normal{stroke-width:2px}#mermaid-1596401273945 .edge-thickness-thick{stroke-width:3.5px}#mermaid-1596401273945 .edge-pattern-solid{stroke-dasharray:0}#mermaid-1596401273945 .edge-pattern-dashed{stroke-dasharray:3}#mermaid-1596401273945 .edge-pattern-dotted{stroke-dasharray:2}#mermaid-1596401273945 .marker{fill:#333}#mermaid-1596401273945 .marker.cross{stroke:#333}

:root { --mermaid-font-family: &amp;quot;trebuchet ms&amp;quot;, verdana, arial;}&lt;/style&gt;&lt;style&gt;#mermaid-1596401273945 {
    color: rgb(0, 0, 0);
    font: 16px &amp;quot;trebuchet ms&amp;quot;, verdana, arial;
  }&lt;/style&gt;&lt;g&gt;&lt;defs&gt;&lt;marker id=&quot;statediagram-barbEnd&quot; refX=&quot;19&quot; refY=&quot;7&quot; markerWidth=&quot;20&quot; markerHeight=&quot;14&quot; markerUnits=&quot;0&quot; orient=&quot;auto&quot;&gt;&lt;path d=&quot;M 19,7 L9,13 L14,7 L9,1 Z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;g class=&quot;root&quot;&gt;&lt;g class=&quot;clusters&quot;&gt;&lt;/g&gt;&lt;g class=&quot;edgePaths&quot;&gt;&lt;path d=&quot;M99.48046875,22L99.48046875,26.166666666666668C99.48046875,30.333333333333332,99.48046875,38.666666666666664,99.48046875,47C99.48046875,55.333333333333336,99.48046875,63.666666666666664,99.48046875,67.83333333333333L99.48046875,72&quot; id=&quot;edge0&quot; class=&quot; edge-thickness-normal transition&quot; marker-end=&quot;url(#statediagram-barbEnd)&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M131.92578125,81.40658946689133L138.62456597222223,79.83882455574278C145.32335069444446,78.27105964459422,158.72092013888889,75.1355298222971,167.09440104166666,73.56776491114856C175.46788194444446,72,178.81727430555554,72,182.16666666666666,74.83333333333333C185.51605902777774,77.66666666666667,188.86545138888889,83.33333333333333,188.86545138888889,89C188.86545138888889,94.66666666666667,185.51605902777774,100.33333333333333,182.16666666666666,103.16666666666667C178.81727430555554,106,175.46788194444446,106,167.09440104166666,104.43223508885144C158.72092013888889,102.8644701777029,145.32335069444446,99.72894035540578,138.62456597222223,98.16117544425721L131.92578125,96.59341053310867&quot; id=&quot;edge1&quot; class=&quot; edge-thickness-normal transition&quot; marker-end=&quot;url(#statediagram-barbEnd)&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M131.92578125,84.20362779954256L145.68446180555554,82.16968983295213C159.44314236111111,80.1357518663617,186.9605034722222,76.06787593318086,204.15885416666666,74.03393796659043C221.3572048611111,72,228.2365451388889,72,235.11588541666666,74.83333333333333C241.99522569444446,77.66666666666667,248.87456597222226,83.33333333333333,248.87456597222226,89C248.87456597222226,94.66666666666667,241.99522569444446,100.33333333333333,235.11588541666666,103.16666666666667C228.2365451388889,106,221.3572048611111,106,204.15885416666666,103.96606203340957C186.9605034722222,101.93212406681914,159.44314236111111,97.86424813363828,145.68446180555554,95.83031016704787L131.92578125,93.79637220045744&quot; id=&quot;edge2&quot; class=&quot; edge-thickness-normal transition&quot; marker-end=&quot;url(#statediagram-barbEnd)&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M84.30244993932038,106L79.16870828276699,111.75C74.03496662621359,117.5,63.767483313106794,129,58.63374165655339,140.5C53.5,152,53.5,163.5,53.5,169.25L53.5,175&quot; id=&quot;edge3&quot; class=&quot; edge-thickness-normal transition&quot; marker-end=&quot;url(#statediagram-barbEnd)&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M53.5,209L53.5,214.75C53.5,220.5,53.5,232,57.35412242111651,243.5C61.20824484223301,255,68.91648968446601,266.5,72.77061210558253,272.25L76.62473452669903,278&quot; id=&quot;edge4&quot; class=&quot; edge-thickness-normal transition&quot; marker-end=&quot;url(#statediagram-barbEnd)&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M94.47072208737865,209L108.32846632281553,214.75C122.18621055825243,220.5,149.9016990291262,232,167.8045926881068,243.5C185.70748634708738,255,193.79778519417474,266.5,197.84293461771847,272.25L201.88808404126215,278&quot; id=&quot;edge5&quot; class=&quot; edge-thickness-normal transition&quot; marker-end=&quot;url(#statediagram-barbEnd)&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M103.19755006067962,278L108.33129171723301,272.25C113.46503337378641,266.5,123.73251668689322,255,128.86625834344662,240.66666666666666C134,226.33333333333334,134,209.16666666666666,134,192C134,174.83333333333334,134,157.66666666666666,130.1458775788835,143.33333333333334C126.29175515776699,129,118.58351031553399,117.5,114.72938789441747,111.75L110.87526547330097,106&quot; id=&quot;edge6&quot; class=&quot; edge-thickness-normal transition&quot; marker-end=&quot;url(#statediagram-barbEnd)&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M222.6558328276699,278L225.63506902305826,272.25C228.6143052184466,266.5,234.5727776092233,255,237.55201380461165,240.66666666666666C240.53125,226.33333333333334,240.53125,209.16666666666666,240.53125,192C240.53125,174.83333333333334,240.53125,157.66666666666666,222.43033854166666,142.4743877334367C204.32942708333334,127.28210880020679,168.12760416666666,114.06421760041356,150.02669270833334,107.45527200051696L131.92578125,100.84632640062034&quot; id=&quot;edge7&quot; class=&quot; edge-thickness-normal transition&quot; marker-end=&quot;url(#statediagram-barbEnd)&quot;&gt;&lt;/path&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabels&quot;&gt;&lt;g class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(0, 0)&quot;&gt;&lt;rect rx=&quot;0&quot; ry=&quot;0&quot; width=&quot;0&quot; height=&quot;0&quot; style=&quot;fill:#e8e8e8&quot;&gt;&lt;/rect&gt;&lt;foreignObject width=&quot;0&quot; height=&quot;0&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabel&quot; transform=&quot;translate(192.21484375, 89)&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-25.2890625, -9.5)&quot;&gt;&lt;rect rx=&quot;0&quot; ry=&quot;0&quot; width=&quot;50.578125&quot; height=&quot;19&quot; style=&quot;fill:#e8e8e8&quot;&gt;&lt;/rect&gt;&lt;foreignObject width=&quot;50.578125&quot; height=&quot;19&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;change&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabel&quot; transform=&quot;translate(255.75390625, 89)&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-18.25, -9.5)&quot;&gt;&lt;rect rx=&quot;0&quot; ry=&quot;0&quot; width=&quot;36.5&quot; height=&quot;19&quot; style=&quot;fill:#e8e8e8&quot;&gt;&lt;/rect&gt;&lt;foreignObject width=&quot;36.5&quot; height=&quot;19&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;reset&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabel&quot; transform=&quot;translate(53.5, 140.5)&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-24.1640625, -9.5)&quot;&gt;&lt;rect rx=&quot;0&quot; ry=&quot;0&quot; width=&quot;48.328125&quot; height=&quot;19&quot; style=&quot;fill:#e8e8e8&quot;&gt;&lt;/rect&gt;&lt;foreignObject width=&quot;48.328125&quot; height=&quot;19&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;submit&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabel&quot; transform=&quot;translate(53.5, 243.5)&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-25.6484375, -9.5)&quot;&gt;&lt;rect rx=&quot;0&quot; ry=&quot;0&quot; width=&quot;51.296875&quot; height=&quot;19&quot; style=&quot;fill:#e8e8e8&quot;&gt;&lt;/rect&gt;&lt;foreignObject width=&quot;51.296875&quot; height=&quot;19&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;resolve&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabel&quot; transform=&quot;translate(177.6171875, 243.5)&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-21.90625, -9.5)&quot;&gt;&lt;rect rx=&quot;0&quot; ry=&quot;0&quot; width=&quot;43.8125&quot; height=&quot;19&quot; style=&quot;fill:#e8e8e8&quot;&gt;&lt;/rect&gt;&lt;foreignObject width=&quot;43.8125&quot; height=&quot;19&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;reject&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(0, 0)&quot;&gt;&lt;rect rx=&quot;0&quot; ry=&quot;0&quot; width=&quot;0&quot; height=&quot;0&quot; style=&quot;fill:#e8e8e8&quot;&gt;&lt;/rect&gt;&lt;foreignObject width=&quot;0&quot; height=&quot;0&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(0, 0)&quot;&gt;&lt;rect rx=&quot;0&quot; ry=&quot;0&quot; width=&quot;0&quot; height=&quot;0&quot; style=&quot;fill:#e8e8e8&quot;&gt;&lt;/rect&gt;&lt;foreignObject width=&quot;0&quot; height=&quot;0&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;nodes&quot;&gt;&lt;g class=&quot;node default&quot; id=&quot;root_start&quot; transform=&quot;translate(99.48046875, 15)&quot;&gt;&lt;circle class=&quot;state-start&quot; r=&quot;7&quot; width=&quot;14&quot; height=&quot;14&quot;&gt;&lt;/circle&gt;&lt;/g&gt;&lt;g class=&quot;node statediagram-state&quot; id=&quot;editing&quot; transform=&quot;translate(99.48046875, 89)&quot;&gt;&lt;rect class=&quot;basic label-container&quot; x=&quot;-32.4453125&quot; y=&quot;-17&quot; width=&quot;64.890625&quot; height=&quot;34&quot;&gt;&lt;/rect&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-24.9453125, -9.5)&quot;&gt;&lt;foreignObject width=&quot;49.890625&quot; height=&quot;19&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;editing&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;node statediagram-state&quot; id=&quot;submitting&quot; transform=&quot;translate(53.5, 192)&quot;&gt;&lt;rect class=&quot;basic label-container&quot; x=&quot;-45.5&quot; y=&quot;-17&quot; width=&quot;91&quot; height=&quot;34&quot;&gt;&lt;/rect&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-38, -9.5)&quot;&gt;&lt;foreignObject width=&quot;76&quot; height=&quot;19&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;submitting&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;node statediagram-state&quot; id=&quot;resolved&quot; transform=&quot;translate(88.01953125, 295)&quot;&gt;&lt;rect class=&quot;basic label-container&quot; x=&quot;-37.6015625&quot; y=&quot;-17&quot; width=&quot;75.203125&quot; height=&quot;34&quot;&gt;&lt;/rect&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-30.1015625, -9.5)&quot;&gt;&lt;foreignObject width=&quot;60.203125&quot; height=&quot;19&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;resolved&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;node statediagram-state&quot; id=&quot;rejected&quot; transform=&quot;translate(213.84765625, 295)&quot;&gt;&lt;rect class=&quot;basic label-container&quot; x=&quot;-38.2265625&quot; y=&quot;-17&quot; width=&quot;76.453125&quot; height=&quot;34&quot;&gt;&lt;/rect&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-30.7265625, -9.5)&quot;&gt;&lt;foreignObject width=&quot;61.453125&quot; height=&quot;19&quot;&gt;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;display:inline-block;white-space:nowrap&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;rejected&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;p class=&quot;css-0&quot;&gt;Our state chart has four states‚Äîediting, submitting, resolved, rejected‚Äîwith
clear transitions defined among the states, e.g. we transition from &lt;code class=&quot;language-text css-0&quot;&gt;editing&lt;/code&gt; to
&lt;code class=&quot;language-text css-0&quot;&gt;submitting&lt;/code&gt; state by performing the &lt;code class=&quot;language-text css-0&quot;&gt;submit&lt;/code&gt; action.&lt;/p&gt;&lt;h3 id=&quot;initial-hook-state&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Initial Hook State&lt;a href=&quot;#initial-hook-state&quot; aria-label=&quot;initial hook state permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p class=&quot;css-0&quot;&gt;First let‚Äôs establish what our &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; hook state looks like. Note that the
hook state is different than the state of a state chart. Our hook state looks
like:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; initialState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;editing&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  context&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    previousValue&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    isValid&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    submitAllowed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    isSuccessful&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;The &lt;code class=&quot;language-text css-0&quot;&gt;value&lt;/code&gt; entry holds our state chart state. We also have a separate &lt;code class=&quot;language-text css-0&quot;&gt;context&lt;/code&gt;
entry that keeps track of the &lt;a href=&quot;https://en.wikipedia.org/wiki/UML_state_machine#Extended_states&quot; class=&quot;css-0&quot;&gt;extended state&lt;/a&gt;.&lt;/p&gt;&lt;h3 id=&quot;translate-a-state-chart-to-a-reducer-function&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Translate a State Chart to a Reducer Function&lt;a href=&quot;#translate-a-state-chart-to-a-reducer-function&quot; aria-label=&quot;translate a state chart to a reducer function permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;editing&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;        &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;change&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isValid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;/^[A-Za-z]*$/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;payload&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; submitAllowed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; isValid &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;previousValue &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; payload&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            context&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; payload&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; isValid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; submitAllowed &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            context&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;previousValue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              isValid&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              submitAllowed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;submit&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;submitAllowed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;submitting&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;submitting&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;resolve&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;resolved&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reject&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;rejected&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;resolved&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;editing&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        context&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          previousValue&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          isSuccessful&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          submitAllowed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;rejected&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;editing&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        context&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          isSuccessful&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;Notice the top level &lt;code class=&quot;language-text css-0&quot;&gt;switch&lt;/code&gt; is based on the &lt;code class=&quot;language-text css-0&quot;&gt;state.value&lt;/code&gt; (state chart state)
expression. For &lt;code class=&quot;language-text css-0&quot;&gt;editing&lt;/code&gt; and &lt;code class=&quot;language-text css-0&quot;&gt;submitting&lt;/code&gt; states, we further switch on
&lt;code class=&quot;language-text css-0&quot;&gt;action.type&lt;/code&gt; (state chart transition). Why do we do this? This guarantees that,
for example, the &lt;code class=&quot;language-text css-0&quot;&gt;submit&lt;/code&gt; transition is only valid if our state chart is in the
&lt;code class=&quot;language-text css-0&quot;&gt;editing&lt;/code&gt; state. Practically, this means that if the form is in the &lt;code class=&quot;language-text css-0&quot;&gt;submitting&lt;/code&gt;
state, it can‚Äôt be submitted again no matter how hard we try (we‚Äôve just solved
the multiple button click issue, even if we forget to disable the submit
button).&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;If you compare the code to the diagram, you‚Äôll see that each &lt;code class=&quot;language-text css-0&quot;&gt;case&lt;/code&gt; clause
corresponds to a transition‚Äîseven transitions, seven &lt;code class=&quot;language-text css-0&quot;&gt;case&lt;/code&gt; clauses that return
the next state.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;Notice the &lt;code class=&quot;language-text css-0&quot;&gt;default&lt;/code&gt; clauses always return the original state as-is. This is
generally how state machines work‚Äîif you try to specify an illegal transition,
the state remains as-is.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;Looking at each &lt;code class=&quot;language-text css-0&quot;&gt;case&lt;/code&gt; clause, you‚Äôll notice that we‚Äôre performing couple tasks:&lt;/p&gt;&lt;ol class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Specify the next state by changing &lt;code class=&quot;language-text css-0&quot;&gt;state.value&lt;/code&gt;.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Changing &lt;code class=&quot;language-text css-0&quot;&gt;state.context&lt;/code&gt; as appropriate for a given transition.&lt;/li&gt;&lt;/ol&gt;&lt;h3 id=&quot;putting-it-all-together&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Putting It All Together&lt;a href=&quot;#putting-it-all-together&quot; aria-label=&quot;putting it all together permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; transitions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;change&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;change&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;reset&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;submit&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;submit&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;To start transitions, we use the &lt;code class=&quot;language-text css-0&quot;&gt;dispatch()&lt;/code&gt; function from the &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt;
hook. Transitions can be manually triggered (user clicking a button) via event
handlers, or automatically triggered (when state changes) via &lt;code class=&quot;language-text css-0&quot;&gt;useEffect&lt;/code&gt;.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;Complex state charts topics are beyond the scope of this article. What we‚Äôre
demonstrating here is that you can in fact model fairly complex systems (if
somewhat awkwardly) using reducers.&lt;/p&gt;&lt;h3&gt;üë©‚Äçüíª Try It Out&lt;/h3&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;If you‚Äôre curious about state charts, I highly recommend checking out
&lt;a href=&quot;https://xstate.js.org/docs/&quot; class=&quot;css-0&quot;&gt;XState&lt;/a&gt;.&lt;/p&gt;&lt;h2 id=&quot;takeaways&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Takeaways&lt;a href=&quot;#takeaways&quot; aria-label=&quot;takeaways permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Use &lt;code class=&quot;language-text css-0&quot;&gt;React.useReducer&lt;/code&gt; when you need to keep track of multiple tightly-coupled
state values.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Reducers are capable of modeling complex systems.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Consider making your &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; hook more user friendly with action
creators.&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-0&quot;&gt;As we‚Äôve seen in this series of articles, &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; is a hook pattern capable
of solving a wide variety of simple to moderately complicated problems. Now that
the scariest part of the pattern‚Äîreducers‚Äîis less scary, I hope you‚Äôll reach for
it more frequently, with creativity.&lt;/p&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;/articles/reducer-patterns/part-1/&quot; class=&quot;css-0&quot;&gt;Part 1: Introduction to &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; and basic reducer patterns&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;/articles/reducer-patterns/part-2/&quot; class=&quot;css-0&quot;&gt;Part 2: Reducers with actions&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[React.useReducer Reducer Patterns, Part 2]]></title><description><![CDATA[There's more than one way to write reducers, part 2.]]></description><link>https://gsong.dev/articles/reducer-patterns/part-2</link><guid isPermaLink="false">https://gsong.dev/articles/reducer-patterns/part-2</guid><pubDate>Sun, 26 Jul 2020 01:53:56 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;w6zcm7&quot;&gt;body{color:text;background-color:var(--theme-ui-colors-background-0,hsl(44,87%,98%));background-color:var(--theme-ui-colors-background-1,hsl(44,87%,94%));background-color:var(--theme-ui-colors-background-2,hsl(44,100%,87%));}&lt;/style&gt;&lt;style data-emotion-css=&quot;1d7m1w5&quot;&gt;*{box-sizing:border-box;}body{margin:0;}&lt;/style&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;/articles/reducer-patterns/part-1/&quot; class=&quot;css-0&quot;&gt;Part 1: Introduction to &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; and basic reducer patterns&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;/articles/reducer-patterns/part-1/&quot; class=&quot;css-0&quot;&gt;In part 1&lt;/a&gt;, we looked at reducer patterns which didn‚Äôt rely on any
params, or just the current state to calculate the next state. We also learned
that &lt;mark&gt;the primary job of a reducer is to produce a new state&lt;/mark&gt;.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;Let‚Äôs continue to explore other reducer patterns.&lt;/p&gt;&lt;h2 id=&quot;table-of-contents&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Table of Contents&lt;a href=&quot;#table-of-contents&quot; aria-label=&quot;table of contents permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;div class=&quot;toc css-0&quot;&gt;&lt;/div&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;#reducer-using-action&quot; class=&quot;css-0&quot;&gt;Reducer Using &lt;code class=&quot;language-text css-0&quot;&gt;action&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#use-both-currentstate-and-action-params&quot; class=&quot;css-0&quot;&gt;Use Both &lt;code class=&quot;language-text css-0&quot;&gt;currentState&lt;/code&gt; and &lt;code class=&quot;language-text css-0&quot;&gt;action&lt;/code&gt; Params&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#use-action-param-only&quot; class=&quot;css-0&quot;&gt;Use &lt;code class=&quot;language-text css-0&quot;&gt;action&lt;/code&gt; Param Only&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;#implement-a-simple-usestate&quot; class=&quot;css-0&quot;&gt;Implement a Simple &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;#implement-a-state-updater&quot; class=&quot;css-0&quot;&gt;Implement a State Updater&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;#dispatch-functions&quot; class=&quot;css-0&quot;&gt;Dispatch Functions&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;#takeaways&quot; class=&quot;css-0&quot;&gt;Takeaways&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;undefined&gt;&lt;/undefined&gt;&lt;h2 id=&quot;reducer-using-action&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Reducer Using &lt;code class=&quot;language-text css-0&quot;&gt;action&lt;/code&gt;&lt;a href=&quot;#reducer-using-action&quot; aria-label=&quot;reducer using action permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;style data-emotion-css=&quot;znzsjo&quot;&gt;.css-znzsjo{display:block;margin:auto;margin-bottom:1.45rem;max-width:685px;}.css-znzsjo tspan{fill:black;stroke:none;}&lt;/style&gt;&lt;svg id=&quot;mermaid-1595125236019&quot; width=&quot;100%&quot; height=&quot;100%&quot; viewBox=&quot;-50 -10 685 418&quot; aria-labelledby=&quot;dispatch-flow&quot; class=&quot;css-znzsjo&quot;&gt;&lt;title id=&quot;dispatch-flow&quot;&gt;Sequence diagram of React.useReducer dispatch flow&lt;/title&gt;&lt;style&gt;#mermaid-1595125236019 .label{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);color:#333}#mermaid-1595125236019 .label text{fill:#333}#mermaid-1595125236019 .node rect,#mermaid-1595125236019 .node circle,#mermaid-1595125236019 .node ellipse,#mermaid-1595125236019 .node polygon,#mermaid-1595125236019 .node path{fill:#ECECFF;stroke:#9370db;stroke-width:1px}#mermaid-1595125236019 .node .label{text-align:center}#mermaid-1595125236019 .node.clickable{cursor:pointer}#mermaid-1595125236019 .arrowheadPath{fill:#333}#mermaid-1595125236019 .edgePath .path{stroke:#333;stroke-width:1.5px}#mermaid-1595125236019 .flowchart-link{stroke:#333;fill:none}#mermaid-1595125236019 .edgeLabel{background-color:#e8e8e8;text-align:center}#mermaid-1595125236019 .edgeLabel rect{opacity:0.5}#mermaid-1595125236019 .cluster rect{fill:#ffffde;stroke:#aa3;stroke-width:1px}#mermaid-1595125236019 .cluster text{fill:#333}#mermaid-1595125236019 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);font-size:12px;background:#ffffde;border:1px solid #aa3;border-radius:2px;pointer-events:none;z-index:100}#mermaid-1595125236019 .actor{stroke:#ccf;fill:#ECECFF}#mermaid-1595125236019 text.actor&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595125236019 .actor-line{stroke:grey}#mermaid-1595125236019 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333}#mermaid-1595125236019 .messageLine1{stroke-width:1.5;stroke-dasharray:2, 2;stroke:#333}#mermaid-1595125236019 #arrowhead path{fill:#333;stroke:#333}#mermaid-1595125236019 .sequenceNumber{fill:#fff}#mermaid-1595125236019 #sequencenumber{fill:#333}#mermaid-1595125236019 #crosshead path{fill:#333;stroke:#333}#mermaid-1595125236019 .messageText{fill:#333;stroke:#333}#mermaid-1595125236019 .labelBox{stroke:#ccf;fill:#ECECFF}#mermaid-1595125236019 .labelText,#mermaid-1595125236019 .labelText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595125236019 .loopText,#mermaid-1595125236019 .loopText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595125236019 .loopLine{stroke-width:2px;stroke-dasharray:2, 2;stroke:#ccf;fill:#ccf}#mermaid-1595125236019 .note{stroke:#aa3;fill:#fff5ad}#mermaid-1595125236019 .noteText,#mermaid-1595125236019 .noteText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595125236019 .activation0{fill:#f4f4f4;stroke:#666}#mermaid-1595125236019 .activation1{fill:#f4f4f4;stroke:#666}#mermaid-1595125236019 .activation2{fill:#f4f4f4;stroke:#666}#mermaid-1595125236019 .mermaid-main-font{font-family:&amp;quot;trebuchet ms&amp;quot;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .section{stroke:none;opacity:0.2}#mermaid-1595125236019 .section0{fill:rgba(102,102,255,0.49)}#mermaid-1595125236019 .section2{fill:#fff400}#mermaid-1595125236019 .section1,#mermaid-1595125236019 .section3{fill:#fff;opacity:0.2}#mermaid-1595125236019 .sectionTitle0{fill:#333}#mermaid-1595125236019 .sectionTitle1{fill:#333}#mermaid-1595125236019 .sectionTitle2{fill:#333}#mermaid-1595125236019 .sectionTitle3{fill:#333}#mermaid-1595125236019 .sectionTitle{text-anchor:start;font-size:11px;text-height:14px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .grid .tick{stroke:#d3d3d3;opacity:0.8;shape-rendering:crispEdges}#mermaid-1595125236019 .grid .tick text{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .grid path{stroke-width:0}#mermaid-1595125236019 .today{fill:none;stroke:red;stroke-width:2px}#mermaid-1595125236019 .task{stroke-width:2}#mermaid-1595125236019 .taskText{text-anchor:middle;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .taskText:not([font-size]){font-size:11px}#mermaid-1595125236019 .taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}#mermaid-1595125236019 .task.clickable{cursor:pointer}#mermaid-1595125236019 .taskText.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1595125236019 .taskTextOutsideLeft.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1595125236019 .taskTextOutsideRight.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1595125236019 .taskText0,#mermaid-1595125236019 .taskText1,#mermaid-1595125236019 .taskText2,#mermaid-1595125236019 .taskText3{fill:#fff}#mermaid-1595125236019 .task0,#mermaid-1595125236019 .task1,#mermaid-1595125236019 .task2,#mermaid-1595125236019 .task3{fill:#8a90dd;stroke:#534fbc}#mermaid-1595125236019 .taskTextOutside0,#mermaid-1595125236019 .taskTextOutside2{fill:#000}#mermaid-1595125236019 .taskTextOutside1,#mermaid-1595125236019 .taskTextOutside3{fill:#000}#mermaid-1595125236019 .active0,#mermaid-1595125236019 .active1,#mermaid-1595125236019 .active2,#mermaid-1595125236019 .active3{fill:#bfc7ff;stroke:#534fbc}#mermaid-1595125236019 .activeText0,#mermaid-1595125236019 .activeText1,#mermaid-1595125236019 .activeText2,#mermaid-1595125236019 .activeText3{fill:#000 !important}#mermaid-1595125236019 .done0,#mermaid-1595125236019 .done1,#mermaid-1595125236019 .done2,#mermaid-1595125236019 .done3{stroke:grey;fill:#d3d3d3;stroke-width:2}#mermaid-1595125236019 .doneText0,#mermaid-1595125236019 .doneText1,#mermaid-1595125236019 .doneText2,#mermaid-1595125236019 .doneText3{fill:#000 !important}#mermaid-1595125236019 .crit0,#mermaid-1595125236019 .crit1,#mermaid-1595125236019 .crit2,#mermaid-1595125236019 .crit3{stroke:#f88;fill:red;stroke-width:2}#mermaid-1595125236019 .activeCrit0,#mermaid-1595125236019 .activeCrit1,#mermaid-1595125236019 .activeCrit2,#mermaid-1595125236019 .activeCrit3{stroke:#f88;fill:#bfc7ff;stroke-width:2}#mermaid-1595125236019 .doneCrit0,#mermaid-1595125236019 .doneCrit1,#mermaid-1595125236019 .doneCrit2,#mermaid-1595125236019 .doneCrit3{stroke:#f88;fill:#d3d3d3;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}#mermaid-1595125236019 .milestone{transform:rotate(45deg) scale(0.8, 0.8)}#mermaid-1595125236019 .milestoneText{font-style:italic}#mermaid-1595125236019 .doneCritText0,#mermaid-1595125236019 .doneCritText1,#mermaid-1595125236019 .doneCritText2,#mermaid-1595125236019 .doneCritText3{fill:#000 !important}#mermaid-1595125236019 .activeCritText0,#mermaid-1595125236019 .activeCritText1,#mermaid-1595125236019 .activeCritText2,#mermaid-1595125236019 .activeCritText3{fill:#000 !important}#mermaid-1595125236019 .titleText{text-anchor:middle;font-size:18px;fill:#000;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 g.classGroup text{fill:#9370db;stroke:none;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);font-size:10px}#mermaid-1595125236019 g.classGroup text .title{font-weight:bolder}#mermaid-1595125236019 g.clickable{cursor:pointer}#mermaid-1595125236019 g.classGroup rect{fill:#ECECFF;stroke:#9370db}#mermaid-1595125236019 g.classGroup line{stroke:#9370db;stroke-width:1}#mermaid-1595125236019 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5}#mermaid-1595125236019 .classLabel .label{fill:#9370db;font-size:10px}#mermaid-1595125236019 .relation{stroke:#9370db;stroke-width:1;fill:none}#mermaid-1595125236019 .dashed-line{stroke-dasharray:3}#mermaid-1595125236019 #compositionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #compositionEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #aggregationStart{fill:#ECECFF;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #aggregationEnd{fill:#ECECFF;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #dependencyStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #dependencyEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #extensionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #extensionEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 .commit-id,#mermaid-1595125236019 .commit-msg,#mermaid-1595125236019 .branch-label{fill:lightgrey;color:lightgrey;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .pieTitleText{text-anchor:middle;font-size:25px;fill:#000;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .slice{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 g.stateGroup text{fill:#9370db;stroke:none;font-size:10px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 g.stateGroup text{fill:#9370db;stroke:none;font-size:10px}#mermaid-1595125236019 g.stateGroup .state-title{font-weight:bolder;fill:#000}#mermaid-1595125236019 g.stateGroup rect{fill:#ECECFF;stroke:#9370db}#mermaid-1595125236019 g.stateGroup line{stroke:#9370db;stroke-width:1}#mermaid-1595125236019 .transition{stroke:#9370db;stroke-width:1;fill:none}#mermaid-1595125236019 .stateGroup .composit{fill:white;border-bottom:1px}#mermaid-1595125236019 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px}#mermaid-1595125236019 .state-note{stroke:#aa3;fill:#fff5ad}#mermaid-1595125236019 .state-note text{fill:black;stroke:none;font-size:10px}#mermaid-1595125236019 .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5}#mermaid-1595125236019 .stateLabel text{fill:#000;font-size:10px;font-weight:bold;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .node circle.state-start{fill:black;stroke:black}#mermaid-1595125236019 .node circle.state-end{fill:black;stroke:white;stroke-width:1.5}#mermaid-1595125236019 #statediagram-barbEnd{fill:#9370db}#mermaid-1595125236019 .statediagram-cluster rect{fill:#ECECFF;stroke:#9370db;stroke-width:1px}#mermaid-1595125236019 .statediagram-cluster rect.outer{rx:5px;ry:5px}#mermaid-1595125236019 .statediagram-state .divider{stroke:#9370db}#mermaid-1595125236019 .statediagram-state .title-state{rx:5px;ry:5px}#mermaid-1595125236019 .statediagram-cluster.statediagram-cluster .inner{fill:white}#mermaid-1595125236019 .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0}#mermaid-1595125236019 .statediagram-cluster .inner{rx:0;ry:0}#mermaid-1595125236019 .statediagram-state rect.basic{rx:5px;ry:5px}#mermaid-1595125236019 .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#efefef}#mermaid-1595125236019 .note-edge{stroke-dasharray:5}#mermaid-1595125236019 .statediagram-note rect{fill:#fff5ad;stroke:#aa3;stroke-width:1px;rx:0;ry:0}:root{--mermaid-font-family: &amp;#x27;&amp;quot;trebuchet ms&amp;quot;, verdana, arial&amp;#x27;;--mermaid-font-family: &amp;quot;Comic Sans MS&amp;quot;, &amp;quot;Comic Sans&amp;quot;, cursive}#mermaid-1595125236019 .error-icon{fill:#522}#mermaid-1595125236019 .error-text{fill:#522;stroke:#522}#mermaid-1595125236019 .edge-thickness-normal{stroke-width:2px}#mermaid-1595125236019 .edge-thickness-thick{stroke-width:3.5px}#mermaid-1595125236019 .edge-pattern-solid{stroke-dasharray:0}#mermaid-1595125236019 .edge-pattern-dashed{stroke-dasharray:3}#mermaid-1595125236019 .edge-pattern-dotted{stroke-dasharray:2}#mermaid-1595125236019 .marker{fill:#333}#mermaid-1595125236019 .marker.cross{stroke:#333}

:root { --mermaid-font-family: &amp;quot;trebuchet ms&amp;quot;, verdana, arial;}&lt;/style&gt;&lt;style&gt;#mermaid-1595125236019 {
    color: rgb(0, 0, 0);
    font: 16px &amp;quot;trebuchet ms&amp;quot;, verdana, arial;
  }&lt;/style&gt;&lt;g&gt;&lt;/g&gt;&lt;g&gt;&lt;line id=&quot;actor0&quot; x1=&quot;75&quot; y1=&quot;5&quot; x2=&quot;75&quot; y2=&quot;407&quot; class=&quot;actor-line&quot; stroke-width=&quot;0.5px&quot; stroke=&quot;#999&quot;&gt;&lt;/line&gt;&lt;rect x=&quot;0&quot; y=&quot;0&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;75&quot; y=&quot;32.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;75&quot; dy=&quot;0&quot;&gt;dispatch&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;g&gt;&lt;line id=&quot;actor1&quot; x1=&quot;275&quot; y1=&quot;5&quot; x2=&quot;275&quot; y2=&quot;407&quot; class=&quot;actor-line&quot; stroke-width=&quot;0.5px&quot; stroke=&quot;#999&quot;&gt;&lt;/line&gt;&lt;rect x=&quot;200&quot; y=&quot;0&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;275&quot; y=&quot;32.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;275&quot; dy=&quot;0&quot;&gt;state&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;g&gt;&lt;line id=&quot;actor2&quot; x1=&quot;510&quot; y1=&quot;5&quot; x2=&quot;510&quot; y2=&quot;407&quot; class=&quot;actor-line&quot; stroke-width=&quot;0.5px&quot; stroke=&quot;#999&quot;&gt;&lt;/line&gt;&lt;rect x=&quot;435&quot; y=&quot;0&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;510&quot; y=&quot;32.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;510&quot; dy=&quot;0&quot;&gt;reducer&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;defs&gt;&lt;marker id=&quot;arrowhead&quot; refX=&quot;5&quot; refY=&quot;2&quot; markerWidth=&quot;6&quot; markerHeight=&quot;4&quot; orient=&quot;auto&quot;&gt;&lt;path d=&quot;M 0,0 V 4 L6,2 Z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;defs&gt;&lt;marker id=&quot;crosshead&quot; markerWidth=&quot;15&quot; markerHeight=&quot;8&quot; orient=&quot;auto&quot; refX=&quot;16&quot; refY=&quot;4&quot;&gt;&lt;path fill=&quot;black&quot; stroke=&quot;#000000&quot; stroke-width=&quot;1px&quot; d=&quot;M 9,2 V 6 L16,4 Z&quot; style=&quot;stroke-dasharray:0, 0&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;none&quot; stroke=&quot;#000000&quot; stroke-width=&quot;1px&quot; d=&quot;M 0,1 L 6,7 M 6,1 L 0,7&quot; style=&quot;stroke-dasharray:0, 0&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;defs&gt;&lt;marker id=&quot;sequencenumber&quot; refX=&quot;15&quot; refY=&quot;15&quot; markerWidth=&quot;60&quot; markerHeight=&quot;40&quot; orient=&quot;auto&quot;&gt;&lt;circle cx=&quot;15&quot; cy=&quot;15&quot; r=&quot;6&quot;&gt;&lt;/circle&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;text x=&quot;293&quot; y=&quot;105&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;messageText&quot; dy=&quot;1em&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;action&lt;/text&gt;&lt;line x1=&quot;75&quot; y1=&quot;138&quot; x2=&quot;510&quot; y2=&quot;138&quot; class=&quot;messageLine0&quot; stroke-width=&quot;2&quot; stroke=&quot;none&quot; marker-end=&quot;url(#arrowhead)&quot; marker-start=&quot;url(#sequencenumber)&quot; style=&quot;fill:none&quot;&gt;&lt;/line&gt;&lt;text x=&quot;75&quot; y=&quot;142&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12px&quot; text-anchor=&quot;middle&quot; textLength=&quot;16px&quot; class=&quot;sequenceNumber&quot;&gt;1&lt;/text&gt;&lt;text x=&quot;393&quot; y=&quot;153&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;messageText&quot; dy=&quot;1em&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;current state&lt;/text&gt;&lt;line x1=&quot;275&quot; y1=&quot;186&quot; x2=&quot;510&quot; y2=&quot;186&quot; class=&quot;messageLine0&quot; stroke-width=&quot;2&quot; stroke=&quot;none&quot; marker-end=&quot;url(#arrowhead)&quot; marker-start=&quot;url(#sequencenumber)&quot; style=&quot;fill:none&quot;&gt;&lt;/line&gt;&lt;text x=&quot;275&quot; y=&quot;190&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12px&quot; text-anchor=&quot;middle&quot; textLength=&quot;16px&quot; class=&quot;sequenceNumber&quot;&gt;2&lt;/text&gt;&lt;g&gt;&lt;line x1=&quot;65&quot; y1=&quot;75&quot; x2=&quot;520&quot; y2=&quot;75&quot; class=&quot;loopLine&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;520&quot; y1=&quot;75&quot; x2=&quot;520&quot; y2=&quot;196&quot; class=&quot;loopLine&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;65&quot; y1=&quot;196&quot; x2=&quot;520&quot; y2=&quot;196&quot; class=&quot;loopLine&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;65&quot; y1=&quot;75&quot; x2=&quot;65&quot; y2=&quot;196&quot; class=&quot;loopLine&quot;&gt;&lt;/line&gt;&lt;polygon points=&quot;65,75 115,75 115,88 106.6,95 65,95&quot; class=&quot;labelBox&quot;&gt;&lt;/polygon&gt;&lt;text x=&quot;90&quot; y=&quot;88&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;labelText&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;par&lt;/text&gt;&lt;text x=&quot;317.5&quot; y=&quot;93&quot; text-anchor=&quot;middle&quot; class=&quot;loopText&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;&lt;tspan x=&quot;317.5&quot;&gt;&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;text x=&quot;510&quot; y=&quot;211&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;messageText&quot; dy=&quot;1em&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;compute new state&lt;/text&gt;&lt;path d=&quot;M 510,244 C 570,234 570,274 510,264&quot; class=&quot;messageLine0&quot; stroke-width=&quot;2&quot; stroke=&quot;none&quot; marker-end=&quot;url(#arrowhead)&quot; marker-start=&quot;url(#sequencenumber)&quot; style=&quot;fill:none&quot;&gt;&lt;/path&gt;&lt;text x=&quot;510&quot; y=&quot;248&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12px&quot; text-anchor=&quot;middle&quot; textLength=&quot;16px&quot; class=&quot;sequenceNumber&quot;&gt;3&lt;/text&gt;&lt;text x=&quot;393&quot; y=&quot;289&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;messageText&quot; dy=&quot;1em&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;replace with new state&lt;/text&gt;&lt;line x1=&quot;510&quot; y1=&quot;322&quot; x2=&quot;275&quot; y2=&quot;322&quot; class=&quot;messageLine1&quot; stroke-width=&quot;2&quot; stroke=&quot;none&quot; marker-end=&quot;url(#arrowhead)&quot; marker-start=&quot;url(#sequencenumber)&quot; style=&quot;stroke-dasharray:3, 3;fill:none&quot;&gt;&lt;/line&gt;&lt;text x=&quot;510&quot; y=&quot;326&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12px&quot; text-anchor=&quot;middle&quot; textLength=&quot;16px&quot; class=&quot;sequenceNumber&quot;&gt;4&lt;/text&gt;&lt;g&gt;&lt;rect x=&quot;0&quot; y=&quot;342&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;75&quot; y=&quot;374.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;75&quot; dy=&quot;0&quot;&gt;dispatch&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;g&gt;&lt;rect x=&quot;200&quot; y=&quot;342&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;275&quot; y=&quot;374.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;275&quot; dy=&quot;0&quot;&gt;state&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;g&gt;&lt;rect x=&quot;435&quot; y=&quot;342&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;510&quot; y=&quot;374.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;510&quot; dy=&quot;0&quot;&gt;reducer&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;/svg&gt;&lt;p class=&quot;css-0&quot;&gt;Remember that &lt;code class=&quot;language-text css-0&quot;&gt;(currentState, action) =&amp;gt; newState&lt;/code&gt; is the complete reducer
signature. In patterns we‚Äôve explored so far, we haven‚Äôt used the &lt;code class=&quot;language-text css-0&quot;&gt;action&lt;/code&gt;
parameter. We know the hook automatically supplies the current state to the
reducer, but how does a reducer receive its &lt;code class=&quot;language-text css-0&quot;&gt;action&lt;/code&gt; parameter? Via the
&lt;code class=&quot;language-text css-0&quot;&gt;dispatch&lt;/code&gt; function we get when we create the hook:
&lt;code class=&quot;language-text css-0&quot;&gt;[state, dispatch] = useReducer(reducer)&lt;/code&gt;. The &lt;code class=&quot;language-text css-0&quot;&gt;dispatch&lt;/code&gt; function takes a
single optional param: &lt;code class=&quot;language-text css-0&quot;&gt;dispatch(action)&lt;/code&gt;.&lt;/p&gt;&lt;h3 id=&quot;use-both-currentstate-and-action-params&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Use Both &lt;code class=&quot;language-text css-0&quot;&gt;currentState&lt;/code&gt; and &lt;code class=&quot;language-text css-0&quot;&gt;action&lt;/code&gt; Params&lt;a href=&quot;#use-both-currentstate-and-action-params&quot; aria-label=&quot;use both currentstate and action params permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p class=&quot;css-0&quot;&gt;Let‚Äôs look at an example where we use both params with the &lt;code class=&quot;language-text css-0&quot;&gt;reducer&lt;/code&gt; function.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; valueToAdd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; valueToAdd&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; addToCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;form
      onSubmit&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; valueToAdd &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentTarget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;numberToAdd&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token function&quot;&gt;addToCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;valueToAdd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;label&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        Add to count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;input
          name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;numberToAdd&amp;quot;&lt;/span&gt;
          type&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;number&amp;quot;&lt;/span&gt;
          defaultValue&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; width&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;4em&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;label&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Add&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;form&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;What‚Äôs happening? When we submit the form, we dispatch (&lt;code class=&quot;language-text css-0&quot;&gt;addToCount&lt;/code&gt;) an action
(&lt;code class=&quot;language-text css-0&quot;&gt;&amp;lt;input name=&amp;quot;numberToAdd&amp;quot;&amp;gt;&lt;/code&gt;‚Äôs value). The reducer takes the current state
(&lt;code class=&quot;language-text css-0&quot;&gt;count&lt;/code&gt;) and the action (&lt;code class=&quot;language-text css-0&quot;&gt;valueToAdd&lt;/code&gt;) to produce a new state
(&lt;code class=&quot;language-text css-0&quot;&gt;count + valueToAdd&lt;/code&gt;).&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;Many examples you‚Äôve seen of actions take the shape of &lt;code class=&quot;language-text css-0&quot;&gt;{ type, payload }&lt;/code&gt;.
While that‚Äôs the convention, &lt;mark&gt;an action can be anything you like&lt;/mark&gt;
(including &lt;code class=&quot;language-text css-0&quot;&gt;undefined&lt;/code&gt;). In this example, an action is simply a number.&lt;/p&gt;&lt;h4&gt;üë©‚Äçüíª Try It Out&lt;/h4&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;h3 id=&quot;use-action-param-only&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Use &lt;code class=&quot;language-text css-0&quot;&gt;action&lt;/code&gt; Param Only&lt;a href=&quot;#use-action-param-only&quot; aria-label=&quot;use action param only permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p class=&quot;css-0&quot;&gt;Just like how we can choose to only use the &lt;code class=&quot;language-text css-0&quot;&gt;currentState&lt;/code&gt; param in a reducer,
we can choose to only use the &lt;code class=&quot;language-text css-0&quot;&gt;action&lt;/code&gt; param.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; newCount&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;form
      onSubmit&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; valueToAdd &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentTarget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;numberToAdd&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; valueToAdd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;form&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;By switching up a few lines, our &lt;code class=&quot;language-text css-0&quot;&gt;reducer&lt;/code&gt; now only relies on the action
(&lt;code class=&quot;language-text css-0&quot;&gt;newCount&lt;/code&gt;) to calculate its new state.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;ü§î Wait a minute, that looks a lot like &lt;code class=&quot;language-text css-0&quot;&gt;React.useState&lt;/code&gt;.&lt;/p&gt;&lt;h4&gt;üë©‚Äçüíª Try It Out&lt;/h4&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;h2 id=&quot;implement-a-simple-usestate&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Implement a Simple &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt;&lt;a href=&quot;#implement-a-simple-usestate&quot; aria-label=&quot;implement a simple usestate permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;Replace&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; newCount&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;with&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; newState&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;useState&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;initialState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;We have ourselves a simple &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt;! You can see that &lt;code class=&quot;language-text css-0&quot;&gt;React.useState&lt;/code&gt; is
syntactic sugar for &lt;code class=&quot;language-text css-0&quot;&gt;React.useReducer&lt;/code&gt;, simplifying the common use case of
updating a single state value. A complete re-implementation of &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt; is a
few more lines of code. &lt;a href=&quot;https://kentcdodds.com/blog/how-to-implement-usestate-with-usereducer&quot; class=&quot;css-0&quot;&gt;See Kent C. Dodd‚Äôs ‚ÄúHow to implement useState with
useReducer‚Äù&lt;/a&gt; if you‚Äôre interested in an in-depth
explanation.&lt;/p&gt;&lt;h3&gt;üë©‚Äçüíª Try It Out&lt;/h3&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;h2 id=&quot;implement-a-state-updater&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Implement a State Updater&lt;a href=&quot;#implement-a-state-updater&quot; aria-label=&quot;implement a state updater permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;use-case&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Use Case&lt;a href=&quot;#use-case&quot; aria-label=&quot;use case permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p class=&quot;css-0&quot;&gt;We have a user profile form that allows them to change each entry value in the
state object.&lt;/p&gt;&lt;h3 id=&quot;solution&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Solution&lt;a href=&quot;#solution&quot; aria-label=&quot;solution permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p class=&quot;css-0&quot;&gt;One elegant solution is to use the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax&quot; class=&quot;css-0&quot;&gt;object spread syntax&lt;/a&gt; to create the
next state.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;info&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; updates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;updates &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; initialValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Pat Doe&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  twitter&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;@pdough&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  email&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;pat@pdough.me&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  website&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pdough.me&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; update&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; initialValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;pre&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;pre&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;form&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;label key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; display&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;block&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;input
            value&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;            onChange&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentTarget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;          &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;label&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;form&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4&gt;üë©‚Äçüíª Try It Out&lt;/h4&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;h2 id=&quot;dispatch-functions&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Dispatch Functions&lt;a href=&quot;#dispatch-functions&quot; aria-label=&quot;dispatch functions permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;Wait, say what? ü§î&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;subtract&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;form&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;label&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        Add to count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;input
          name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;numberToAdd&amp;quot;&lt;/span&gt;
          type&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;number&amp;quot;&lt;/span&gt;
          defaultValue&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; width&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;4em&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;label&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button
        type&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;button&amp;quot;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentTarget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;form&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;numberToAdd&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;      &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        Add
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button
        type&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;button&amp;quot;&lt;/span&gt;
        onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token function&quot;&gt;subtract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentTarget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;form&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;numberToAdd&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        Subtract
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;form&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;Yup, as stated earlier, &lt;mark&gt;an action can be anything you like&lt;/mark&gt;. In this
example, we‚Äôre dispatching callback functions! ü§Ø&lt;/p&gt;&lt;h3&gt;üë©‚Äçüíª Try It Out&lt;/h3&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;h2 id=&quot;takeaways&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Takeaways&lt;a href=&quot;#takeaways&quot; aria-label=&quot;takeaways permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Dispatched actions can take any shape you want: &lt;code class=&quot;language-text css-0&quot;&gt;undefined&lt;/code&gt;, a value, an
object, or even a function.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;The &lt;code class=&quot;language-text css-0&quot;&gt;action&lt;/code&gt; parameter is what‚Äôs commonly shared between the &lt;code class=&quot;language-text css-0&quot;&gt;dispatch()&lt;/code&gt; and
&lt;code class=&quot;language-text css-0&quot;&gt;reducer()&lt;/code&gt; functions‚Äîit‚Äôs their private, internal contract.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;React.useState is syntactic sugar for one specific use case of
React.useReducer.&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;intermission&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Intermission&lt;a href=&quot;#intermission&quot; aria-label=&quot;intermission permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;You can implement a reducer in any way you like, as long as it fulfills the
contract of &lt;code class=&quot;language-text css-0&quot;&gt;([currentState], [action]) =&amp;gt; newState&lt;/code&gt;. You have complete freedom
in deciding what an action looks like, and how you want to calculate the new
state.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;We‚Äôve explored different ways of writing the reducer function, and we haven‚Äôt
even come across the familiar &lt;code class=&quot;language-text css-0&quot;&gt;switch&lt;/code&gt; statement yet. Don‚Äôt worry, we‚Äôll get to
that in &lt;a href=&quot;/articles/reducer-patterns/part-3/&quot; class=&quot;css-0&quot;&gt;part 3&lt;/a&gt;.&lt;/p&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;/articles/reducer-patterns/part-1/&quot; class=&quot;css-0&quot;&gt;Part 1: Introduction to &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; and basic reducer patterns&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;/articles/reducer-patterns/part-3/&quot; class=&quot;css-0&quot;&gt;Part 3: Reducers with switch statements&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[React.useReducer Reducer Patterns, Part 1]]></title><description><![CDATA[There's more than one way to write reducers, part 1.]]></description><link>https://gsong.dev/articles/reducer-patterns/part-1</link><guid isPermaLink="false">https://gsong.dev/articles/reducer-patterns/part-1</guid><pubDate>Sun, 19 Jul 2020 19:06:41 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;w6zcm7&quot;&gt;body{color:text;background-color:var(--theme-ui-colors-background-0,hsl(44,87%,98%));background-color:var(--theme-ui-colors-background-1,hsl(44,87%,94%));background-color:var(--theme-ui-colors-background-2,hsl(44,100%,87%));}&lt;/style&gt;&lt;style data-emotion-css=&quot;1d7m1w5&quot;&gt;*{box-sizing:border-box;}body{margin:0;}&lt;/style&gt;&lt;p class=&quot;css-0&quot;&gt;I see a lot of people, especially those new to React hooks, shy away from
&lt;a href=&quot;https://reactjs.org/docs/hooks-reference.html#usereducer&quot; class=&quot;css-0&quot;&gt;&lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt;&lt;/a&gt; in favor of multiple &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt;s. I think some of it
is the simplicity of the &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt; API, and some of it is assumed complexity
via association with &lt;a href=&quot;https://redux.js.org&quot; class=&quot;css-0&quot;&gt;Redux&lt;/a&gt;. In practice, &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; has a lot more in
common with &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt; than Redux.&lt;/p&gt;&lt;h2 id=&quot;table-of-contents&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Table of Contents&lt;a href=&quot;#table-of-contents&quot; aria-label=&quot;table of contents permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;div class=&quot;toc css-0&quot;&gt;&lt;/div&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#updating-state-with-usestate-and-usereducer&quot; class=&quot;css-0&quot;&gt;Updating State With &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt; and &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#the-reducer-function&quot; class=&quot;css-0&quot;&gt;The Reducer Function&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#putting-it-all-together-with-usereducer&quot; class=&quot;css-0&quot;&gt;Putting It All Together With useReducer&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#reducer-without-any-params&quot; class=&quot;css-0&quot;&gt;Reducer Without Any Params&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#reducer-using-current-state&quot; class=&quot;css-0&quot;&gt;Reducer Using Current State&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;#takeaways&quot; class=&quot;css-0&quot;&gt;Takeaways&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;undefined&gt;&lt;/undefined&gt;&lt;h2 id=&quot;updating-state-with-usestate-and-usereducer&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Updating State With &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt; and &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt;&lt;a href=&quot;#updating-state-with-usestate-and-usereducer&quot; aria-label=&quot;updating state with usestate and usereducer permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;The &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt; API has two parts: the state and the state setter. When you want
to update the state, you replace it using the state setter.&lt;/p&gt;&lt;style data-emotion-css=&quot;1bjdor9&quot;&gt;.css-1bjdor9{display:block;margin:auto;margin-bottom:1.45rem;max-width:485px;}.css-1bjdor9 tspan{fill:black;stroke:none;}&lt;/style&gt;&lt;svg id=&quot;mermaid-1595182964434&quot; width=&quot;100%&quot; height=&quot;100%&quot; viewBox=&quot;-50 -10 485 209&quot; aria-labelledby=&quot;set-state-flow&quot; class=&quot;css-1bjdor9&quot;&gt;&lt;title id=&quot;set-state-flow&quot;&gt;Sequence diagram of React.useState setState flow&lt;/title&gt;&lt;style&gt;#mermaid-1595182964434 .label{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);color:#333}#mermaid-1595182964434 .label text{fill:#333}#mermaid-1595182964434 .node rect,#mermaid-1595182964434 .node circle,#mermaid-1595182964434 .node ellipse,#mermaid-1595182964434 .node polygon,#mermaid-1595182964434 .node path{fill:#ECECFF;stroke:#9370db;stroke-width:1px}#mermaid-1595182964434 .node .label{text-align:center}#mermaid-1595182964434 .node.clickable{cursor:pointer}#mermaid-1595182964434 .arrowheadPath{fill:#333}#mermaid-1595182964434 .edgePath .path{stroke:#333;stroke-width:1.5px}#mermaid-1595182964434 .flowchart-link{stroke:#333;fill:none}#mermaid-1595182964434 .edgeLabel{background-color:#e8e8e8;text-align:center}#mermaid-1595182964434 .edgeLabel rect{opacity:0.5}#mermaid-1595182964434 .cluster rect{fill:#ffffde;stroke:#aa3;stroke-width:1px}#mermaid-1595182964434 .cluster text{fill:#333}#mermaid-1595182964434 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);font-size:12px;background:#ffffde;border:1px solid #aa3;border-radius:2px;pointer-events:none;z-index:100}#mermaid-1595182964434 .actor{stroke:#ccf;fill:#ECECFF}#mermaid-1595182964434 text.actor&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595182964434 .actor-line{stroke:grey}#mermaid-1595182964434 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333}#mermaid-1595182964434 .messageLine1{stroke-width:1.5;stroke-dasharray:2, 2;stroke:#333}#mermaid-1595182964434 #arrowhead path{fill:#333;stroke:#333}#mermaid-1595182964434 .sequenceNumber{fill:#fff}#mermaid-1595182964434 #sequencenumber{fill:#333}#mermaid-1595182964434 #crosshead path{fill:#333;stroke:#333}#mermaid-1595182964434 .messageText{fill:#333;stroke:#333}#mermaid-1595182964434 .labelBox{stroke:#ccf;fill:#ECECFF}#mermaid-1595182964434 .labelText,#mermaid-1595182964434 .labelText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595182964434 .loopText,#mermaid-1595182964434 .loopText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595182964434 .loopLine{stroke-width:2px;stroke-dasharray:2, 2;stroke:#ccf;fill:#ccf}#mermaid-1595182964434 .note{stroke:#aa3;fill:#fff5ad}#mermaid-1595182964434 .noteText,#mermaid-1595182964434 .noteText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595182964434 .activation0{fill:#f4f4f4;stroke:#666}#mermaid-1595182964434 .activation1{fill:#f4f4f4;stroke:#666}#mermaid-1595182964434 .activation2{fill:#f4f4f4;stroke:#666}#mermaid-1595182964434 .mermaid-main-font{font-family:&amp;quot;trebuchet ms&amp;quot;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 .section{stroke:none;opacity:0.2}#mermaid-1595182964434 .section0{fill:rgba(102,102,255,0.49)}#mermaid-1595182964434 .section2{fill:#fff400}#mermaid-1595182964434 .section1,#mermaid-1595182964434 .section3{fill:#fff;opacity:0.2}#mermaid-1595182964434 .sectionTitle0{fill:#333}#mermaid-1595182964434 .sectionTitle1{fill:#333}#mermaid-1595182964434 .sectionTitle2{fill:#333}#mermaid-1595182964434 .sectionTitle3{fill:#333}#mermaid-1595182964434 .sectionTitle{text-anchor:start;font-size:11px;text-height:14px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 .grid .tick{stroke:#d3d3d3;opacity:0.8;shape-rendering:crispEdges}#mermaid-1595182964434 .grid .tick text{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 .grid path{stroke-width:0}#mermaid-1595182964434 .today{fill:none;stroke:red;stroke-width:2px}#mermaid-1595182964434 .task{stroke-width:2}#mermaid-1595182964434 .taskText{text-anchor:middle;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 .taskText:not([font-size]){font-size:11px}#mermaid-1595182964434 .taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 .taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}#mermaid-1595182964434 .task.clickable{cursor:pointer}#mermaid-1595182964434 .taskText.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1595182964434 .taskTextOutsideLeft.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1595182964434 .taskTextOutsideRight.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1595182964434 .taskText0,#mermaid-1595182964434 .taskText1,#mermaid-1595182964434 .taskText2,#mermaid-1595182964434 .taskText3{fill:#fff}#mermaid-1595182964434 .task0,#mermaid-1595182964434 .task1,#mermaid-1595182964434 .task2,#mermaid-1595182964434 .task3{fill:#8a90dd;stroke:#534fbc}#mermaid-1595182964434 .taskTextOutside0,#mermaid-1595182964434 .taskTextOutside2{fill:#000}#mermaid-1595182964434 .taskTextOutside1,#mermaid-1595182964434 .taskTextOutside3{fill:#000}#mermaid-1595182964434 .active0,#mermaid-1595182964434 .active1,#mermaid-1595182964434 .active2,#mermaid-1595182964434 .active3{fill:#bfc7ff;stroke:#534fbc}#mermaid-1595182964434 .activeText0,#mermaid-1595182964434 .activeText1,#mermaid-1595182964434 .activeText2,#mermaid-1595182964434 .activeText3{fill:#000 !important}#mermaid-1595182964434 .done0,#mermaid-1595182964434 .done1,#mermaid-1595182964434 .done2,#mermaid-1595182964434 .done3{stroke:grey;fill:#d3d3d3;stroke-width:2}#mermaid-1595182964434 .doneText0,#mermaid-1595182964434 .doneText1,#mermaid-1595182964434 .doneText2,#mermaid-1595182964434 .doneText3{fill:#000 !important}#mermaid-1595182964434 .crit0,#mermaid-1595182964434 .crit1,#mermaid-1595182964434 .crit2,#mermaid-1595182964434 .crit3{stroke:#f88;fill:red;stroke-width:2}#mermaid-1595182964434 .activeCrit0,#mermaid-1595182964434 .activeCrit1,#mermaid-1595182964434 .activeCrit2,#mermaid-1595182964434 .activeCrit3{stroke:#f88;fill:#bfc7ff;stroke-width:2}#mermaid-1595182964434 .doneCrit0,#mermaid-1595182964434 .doneCrit1,#mermaid-1595182964434 .doneCrit2,#mermaid-1595182964434 .doneCrit3{stroke:#f88;fill:#d3d3d3;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}#mermaid-1595182964434 .milestone{transform:rotate(45deg) scale(0.8, 0.8)}#mermaid-1595182964434 .milestoneText{font-style:italic}#mermaid-1595182964434 .doneCritText0,#mermaid-1595182964434 .doneCritText1,#mermaid-1595182964434 .doneCritText2,#mermaid-1595182964434 .doneCritText3{fill:#000 !important}#mermaid-1595182964434 .activeCritText0,#mermaid-1595182964434 .activeCritText1,#mermaid-1595182964434 .activeCritText2,#mermaid-1595182964434 .activeCritText3{fill:#000 !important}#mermaid-1595182964434 .titleText{text-anchor:middle;font-size:18px;fill:#000;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 g.classGroup text{fill:#9370db;stroke:none;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);font-size:10px}#mermaid-1595182964434 g.classGroup text .title{font-weight:bolder}#mermaid-1595182964434 g.clickable{cursor:pointer}#mermaid-1595182964434 g.classGroup rect{fill:#ECECFF;stroke:#9370db}#mermaid-1595182964434 g.classGroup line{stroke:#9370db;stroke-width:1}#mermaid-1595182964434 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5}#mermaid-1595182964434 .classLabel .label{fill:#9370db;font-size:10px}#mermaid-1595182964434 .relation{stroke:#9370db;stroke-width:1;fill:none}#mermaid-1595182964434 .dashed-line{stroke-dasharray:3}#mermaid-1595182964434 #compositionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595182964434 #compositionEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595182964434 #aggregationStart{fill:#ECECFF;stroke:#9370db;stroke-width:1}#mermaid-1595182964434 #aggregationEnd{fill:#ECECFF;stroke:#9370db;stroke-width:1}#mermaid-1595182964434 #dependencyStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595182964434 #dependencyEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595182964434 #extensionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595182964434 #extensionEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595182964434 .commit-id,#mermaid-1595182964434 .commit-msg,#mermaid-1595182964434 .branch-label{fill:lightgrey;color:lightgrey;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 .pieTitleText{text-anchor:middle;font-size:25px;fill:#000;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 .slice{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 g.stateGroup text{fill:#9370db;stroke:none;font-size:10px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 g.stateGroup text{fill:#9370db;stroke:none;font-size:10px}#mermaid-1595182964434 g.stateGroup .state-title{font-weight:bolder;fill:#000}#mermaid-1595182964434 g.stateGroup rect{fill:#ECECFF;stroke:#9370db}#mermaid-1595182964434 g.stateGroup line{stroke:#9370db;stroke-width:1}#mermaid-1595182964434 .transition{stroke:#9370db;stroke-width:1;fill:none}#mermaid-1595182964434 .stateGroup .composit{fill:white;border-bottom:1px}#mermaid-1595182964434 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px}#mermaid-1595182964434 .state-note{stroke:#aa3;fill:#fff5ad}#mermaid-1595182964434 .state-note text{fill:black;stroke:none;font-size:10px}#mermaid-1595182964434 .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5}#mermaid-1595182964434 .stateLabel text{fill:#000;font-size:10px;font-weight:bold;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595182964434 .node circle.state-start{fill:black;stroke:black}#mermaid-1595182964434 .node circle.state-end{fill:black;stroke:white;stroke-width:1.5}#mermaid-1595182964434 #statediagram-barbEnd{fill:#9370db}#mermaid-1595182964434 .statediagram-cluster rect{fill:#ECECFF;stroke:#9370db;stroke-width:1px}#mermaid-1595182964434 .statediagram-cluster rect.outer{rx:5px;ry:5px}#mermaid-1595182964434 .statediagram-state .divider{stroke:#9370db}#mermaid-1595182964434 .statediagram-state .title-state{rx:5px;ry:5px}#mermaid-1595182964434 .statediagram-cluster.statediagram-cluster .inner{fill:white}#mermaid-1595182964434 .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0}#mermaid-1595182964434 .statediagram-cluster .inner{rx:0;ry:0}#mermaid-1595182964434 .statediagram-state rect.basic{rx:5px;ry:5px}#mermaid-1595182964434 .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#efefef}#mermaid-1595182964434 .note-edge{stroke-dasharray:5}#mermaid-1595182964434 .statediagram-note rect{fill:#fff5ad;stroke:#aa3;stroke-width:1px;rx:0;ry:0}:root{--mermaid-font-family: &amp;#x27;&amp;quot;trebuchet ms&amp;quot;, verdana, arial&amp;#x27;;--mermaid-font-family: &amp;quot;Comic Sans MS&amp;quot;, &amp;quot;Comic Sans&amp;quot;, cursive}#mermaid-1595182964434 .error-icon{fill:#522}#mermaid-1595182964434 .error-text{fill:#522;stroke:#522}#mermaid-1595182964434 .edge-thickness-normal{stroke-width:2px}#mermaid-1595182964434 .edge-thickness-thick{stroke-width:3.5px}#mermaid-1595182964434 .edge-pattern-solid{stroke-dasharray:0}#mermaid-1595182964434 .edge-pattern-dashed{stroke-dasharray:3}#mermaid-1595182964434 .edge-pattern-dotted{stroke-dasharray:2}#mermaid-1595182964434 .marker{fill:#333}#mermaid-1595182964434 .marker.cross{stroke:#333}

:root { --mermaid-font-family: &amp;quot;trebuchet ms&amp;quot;, verdana, arial;}&lt;/style&gt;&lt;style&gt;#mermaid-1595182964434 {
    color: rgb(0, 0, 0);
    font: 16px &amp;quot;trebuchet ms&amp;quot;, verdana, arial;
  }&lt;/style&gt;&lt;g&gt;&lt;/g&gt;&lt;g&gt;&lt;line id=&quot;actor0&quot; x1=&quot;75&quot; y1=&quot;5&quot; x2=&quot;75&quot; y2=&quot;198&quot; class=&quot;actor-line&quot; stroke-width=&quot;0.5px&quot; stroke=&quot;#999&quot;&gt;&lt;/line&gt;&lt;rect x=&quot;0&quot; y=&quot;0&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;75&quot; y=&quot;32.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;75&quot; dy=&quot;0&quot;&gt;setState&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;g&gt;&lt;line id=&quot;actor1&quot; x1=&quot;310&quot; y1=&quot;5&quot; x2=&quot;310&quot; y2=&quot;198&quot; class=&quot;actor-line&quot; stroke-width=&quot;0.5px&quot; stroke=&quot;#999&quot;&gt;&lt;/line&gt;&lt;rect x=&quot;235&quot; y=&quot;0&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;310&quot; y=&quot;32.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;310&quot; dy=&quot;0&quot;&gt;state&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;defs&gt;&lt;marker id=&quot;arrowhead&quot; refX=&quot;5&quot; refY=&quot;2&quot; markerWidth=&quot;6&quot; markerHeight=&quot;4&quot; orient=&quot;auto&quot;&gt;&lt;path d=&quot;M 0,0 V 4 L6,2 Z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;defs&gt;&lt;marker id=&quot;crosshead&quot; markerWidth=&quot;15&quot; markerHeight=&quot;8&quot; orient=&quot;auto&quot; refX=&quot;16&quot; refY=&quot;4&quot;&gt;&lt;path fill=&quot;black&quot; stroke=&quot;#000000&quot; stroke-width=&quot;1px&quot; d=&quot;M 9,2 V 6 L16,4 Z&quot; style=&quot;stroke-dasharray:0, 0&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;none&quot; stroke=&quot;#000000&quot; stroke-width=&quot;1px&quot; d=&quot;M 0,1 L 6,7 M 6,1 L 0,7&quot; style=&quot;stroke-dasharray:0, 0&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;defs&gt;&lt;marker id=&quot;sequencenumber&quot; refX=&quot;15&quot; refY=&quot;15&quot; markerWidth=&quot;60&quot; markerHeight=&quot;40&quot; orient=&quot;auto&quot;&gt;&lt;circle cx=&quot;15&quot; cy=&quot;15&quot; r=&quot;6&quot;&gt;&lt;/circle&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;text x=&quot;193&quot; y=&quot;80&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;messageText&quot; dy=&quot;1em&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;replace with new state&lt;/text&gt;&lt;line x1=&quot;75&quot; y1=&quot;113&quot; x2=&quot;310&quot; y2=&quot;113&quot; class=&quot;messageLine1&quot; stroke-width=&quot;2&quot; stroke=&quot;none&quot; marker-end=&quot;url(#arrowhead)&quot; style=&quot;stroke-dasharray:3, 3;fill:none&quot;&gt;&lt;/line&gt;&lt;g&gt;&lt;rect x=&quot;0&quot; y=&quot;133&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;75&quot; y=&quot;165.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;75&quot; dy=&quot;0&quot;&gt;setState&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;g&gt;&lt;rect x=&quot;235&quot; y=&quot;133&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;310&quot; y=&quot;165.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;310&quot; dy=&quot;0&quot;&gt;state&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;/svg&gt;&lt;p class=&quot;css-0&quot;&gt;The &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; API has three parts: the state, an action dispatcher, and a
reducer to produce the new state.&lt;/p&gt;&lt;style data-emotion-css=&quot;znzsjo&quot;&gt;.css-znzsjo{display:block;margin:auto;margin-bottom:1.45rem;max-width:685px;}.css-znzsjo tspan{fill:black;stroke:none;}&lt;/style&gt;&lt;svg id=&quot;mermaid-1595125236019&quot; width=&quot;100%&quot; height=&quot;100%&quot; viewBox=&quot;-50 -10 685 418&quot; aria-labelledby=&quot;dispatch-flow&quot; class=&quot;css-znzsjo&quot;&gt;&lt;title id=&quot;dispatch-flow&quot;&gt;Sequence diagram of React.useReducer dispatch flow&lt;/title&gt;&lt;style&gt;#mermaid-1595125236019 .label{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);color:#333}#mermaid-1595125236019 .label text{fill:#333}#mermaid-1595125236019 .node rect,#mermaid-1595125236019 .node circle,#mermaid-1595125236019 .node ellipse,#mermaid-1595125236019 .node polygon,#mermaid-1595125236019 .node path{fill:#ECECFF;stroke:#9370db;stroke-width:1px}#mermaid-1595125236019 .node .label{text-align:center}#mermaid-1595125236019 .node.clickable{cursor:pointer}#mermaid-1595125236019 .arrowheadPath{fill:#333}#mermaid-1595125236019 .edgePath .path{stroke:#333;stroke-width:1.5px}#mermaid-1595125236019 .flowchart-link{stroke:#333;fill:none}#mermaid-1595125236019 .edgeLabel{background-color:#e8e8e8;text-align:center}#mermaid-1595125236019 .edgeLabel rect{opacity:0.5}#mermaid-1595125236019 .cluster rect{fill:#ffffde;stroke:#aa3;stroke-width:1px}#mermaid-1595125236019 .cluster text{fill:#333}#mermaid-1595125236019 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);font-size:12px;background:#ffffde;border:1px solid #aa3;border-radius:2px;pointer-events:none;z-index:100}#mermaid-1595125236019 .actor{stroke:#ccf;fill:#ECECFF}#mermaid-1595125236019 text.actor&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595125236019 .actor-line{stroke:grey}#mermaid-1595125236019 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333}#mermaid-1595125236019 .messageLine1{stroke-width:1.5;stroke-dasharray:2, 2;stroke:#333}#mermaid-1595125236019 #arrowhead path{fill:#333;stroke:#333}#mermaid-1595125236019 .sequenceNumber{fill:#fff}#mermaid-1595125236019 #sequencenumber{fill:#333}#mermaid-1595125236019 #crosshead path{fill:#333;stroke:#333}#mermaid-1595125236019 .messageText{fill:#333;stroke:#333}#mermaid-1595125236019 .labelBox{stroke:#ccf;fill:#ECECFF}#mermaid-1595125236019 .labelText,#mermaid-1595125236019 .labelText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595125236019 .loopText,#mermaid-1595125236019 .loopText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595125236019 .loopLine{stroke-width:2px;stroke-dasharray:2, 2;stroke:#ccf;fill:#ccf}#mermaid-1595125236019 .note{stroke:#aa3;fill:#fff5ad}#mermaid-1595125236019 .noteText,#mermaid-1595125236019 .noteText&amp;amp;gt;tspan{fill:#000;stroke:none}#mermaid-1595125236019 .activation0{fill:#f4f4f4;stroke:#666}#mermaid-1595125236019 .activation1{fill:#f4f4f4;stroke:#666}#mermaid-1595125236019 .activation2{fill:#f4f4f4;stroke:#666}#mermaid-1595125236019 .mermaid-main-font{font-family:&amp;quot;trebuchet ms&amp;quot;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .section{stroke:none;opacity:0.2}#mermaid-1595125236019 .section0{fill:rgba(102,102,255,0.49)}#mermaid-1595125236019 .section2{fill:#fff400}#mermaid-1595125236019 .section1,#mermaid-1595125236019 .section3{fill:#fff;opacity:0.2}#mermaid-1595125236019 .sectionTitle0{fill:#333}#mermaid-1595125236019 .sectionTitle1{fill:#333}#mermaid-1595125236019 .sectionTitle2{fill:#333}#mermaid-1595125236019 .sectionTitle3{fill:#333}#mermaid-1595125236019 .sectionTitle{text-anchor:start;font-size:11px;text-height:14px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .grid .tick{stroke:#d3d3d3;opacity:0.8;shape-rendering:crispEdges}#mermaid-1595125236019 .grid .tick text{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .grid path{stroke-width:0}#mermaid-1595125236019 .today{fill:none;stroke:red;stroke-width:2px}#mermaid-1595125236019 .task{stroke-width:2}#mermaid-1595125236019 .taskText{text-anchor:middle;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .taskText:not([font-size]){font-size:11px}#mermaid-1595125236019 .taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}#mermaid-1595125236019 .task.clickable{cursor:pointer}#mermaid-1595125236019 .taskText.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1595125236019 .taskTextOutsideLeft.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1595125236019 .taskTextOutsideRight.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1595125236019 .taskText0,#mermaid-1595125236019 .taskText1,#mermaid-1595125236019 .taskText2,#mermaid-1595125236019 .taskText3{fill:#fff}#mermaid-1595125236019 .task0,#mermaid-1595125236019 .task1,#mermaid-1595125236019 .task2,#mermaid-1595125236019 .task3{fill:#8a90dd;stroke:#534fbc}#mermaid-1595125236019 .taskTextOutside0,#mermaid-1595125236019 .taskTextOutside2{fill:#000}#mermaid-1595125236019 .taskTextOutside1,#mermaid-1595125236019 .taskTextOutside3{fill:#000}#mermaid-1595125236019 .active0,#mermaid-1595125236019 .active1,#mermaid-1595125236019 .active2,#mermaid-1595125236019 .active3{fill:#bfc7ff;stroke:#534fbc}#mermaid-1595125236019 .activeText0,#mermaid-1595125236019 .activeText1,#mermaid-1595125236019 .activeText2,#mermaid-1595125236019 .activeText3{fill:#000 !important}#mermaid-1595125236019 .done0,#mermaid-1595125236019 .done1,#mermaid-1595125236019 .done2,#mermaid-1595125236019 .done3{stroke:grey;fill:#d3d3d3;stroke-width:2}#mermaid-1595125236019 .doneText0,#mermaid-1595125236019 .doneText1,#mermaid-1595125236019 .doneText2,#mermaid-1595125236019 .doneText3{fill:#000 !important}#mermaid-1595125236019 .crit0,#mermaid-1595125236019 .crit1,#mermaid-1595125236019 .crit2,#mermaid-1595125236019 .crit3{stroke:#f88;fill:red;stroke-width:2}#mermaid-1595125236019 .activeCrit0,#mermaid-1595125236019 .activeCrit1,#mermaid-1595125236019 .activeCrit2,#mermaid-1595125236019 .activeCrit3{stroke:#f88;fill:#bfc7ff;stroke-width:2}#mermaid-1595125236019 .doneCrit0,#mermaid-1595125236019 .doneCrit1,#mermaid-1595125236019 .doneCrit2,#mermaid-1595125236019 .doneCrit3{stroke:#f88;fill:#d3d3d3;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}#mermaid-1595125236019 .milestone{transform:rotate(45deg) scale(0.8, 0.8)}#mermaid-1595125236019 .milestoneText{font-style:italic}#mermaid-1595125236019 .doneCritText0,#mermaid-1595125236019 .doneCritText1,#mermaid-1595125236019 .doneCritText2,#mermaid-1595125236019 .doneCritText3{fill:#000 !important}#mermaid-1595125236019 .activeCritText0,#mermaid-1595125236019 .activeCritText1,#mermaid-1595125236019 .activeCritText2,#mermaid-1595125236019 .activeCritText3{fill:#000 !important}#mermaid-1595125236019 .titleText{text-anchor:middle;font-size:18px;fill:#000;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 g.classGroup text{fill:#9370db;stroke:none;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family);font-size:10px}#mermaid-1595125236019 g.classGroup text .title{font-weight:bolder}#mermaid-1595125236019 g.clickable{cursor:pointer}#mermaid-1595125236019 g.classGroup rect{fill:#ECECFF;stroke:#9370db}#mermaid-1595125236019 g.classGroup line{stroke:#9370db;stroke-width:1}#mermaid-1595125236019 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5}#mermaid-1595125236019 .classLabel .label{fill:#9370db;font-size:10px}#mermaid-1595125236019 .relation{stroke:#9370db;stroke-width:1;fill:none}#mermaid-1595125236019 .dashed-line{stroke-dasharray:3}#mermaid-1595125236019 #compositionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #compositionEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #aggregationStart{fill:#ECECFF;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #aggregationEnd{fill:#ECECFF;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #dependencyStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #dependencyEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #extensionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 #extensionEnd{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1595125236019 .commit-id,#mermaid-1595125236019 .commit-msg,#mermaid-1595125236019 .branch-label{fill:lightgrey;color:lightgrey;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .pieTitleText{text-anchor:middle;font-size:25px;fill:#000;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .slice{font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 g.stateGroup text{fill:#9370db;stroke:none;font-size:10px;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 g.stateGroup text{fill:#9370db;stroke:none;font-size:10px}#mermaid-1595125236019 g.stateGroup .state-title{font-weight:bolder;fill:#000}#mermaid-1595125236019 g.stateGroup rect{fill:#ECECFF;stroke:#9370db}#mermaid-1595125236019 g.stateGroup line{stroke:#9370db;stroke-width:1}#mermaid-1595125236019 .transition{stroke:#9370db;stroke-width:1;fill:none}#mermaid-1595125236019 .stateGroup .composit{fill:white;border-bottom:1px}#mermaid-1595125236019 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px}#mermaid-1595125236019 .state-note{stroke:#aa3;fill:#fff5ad}#mermaid-1595125236019 .state-note text{fill:black;stroke:none;font-size:10px}#mermaid-1595125236019 .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5}#mermaid-1595125236019 .stateLabel text{fill:#000;font-size:10px;font-weight:bold;font-family:&amp;#x27;trebuchet ms&amp;#x27;, verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1595125236019 .node circle.state-start{fill:black;stroke:black}#mermaid-1595125236019 .node circle.state-end{fill:black;stroke:white;stroke-width:1.5}#mermaid-1595125236019 #statediagram-barbEnd{fill:#9370db}#mermaid-1595125236019 .statediagram-cluster rect{fill:#ECECFF;stroke:#9370db;stroke-width:1px}#mermaid-1595125236019 .statediagram-cluster rect.outer{rx:5px;ry:5px}#mermaid-1595125236019 .statediagram-state .divider{stroke:#9370db}#mermaid-1595125236019 .statediagram-state .title-state{rx:5px;ry:5px}#mermaid-1595125236019 .statediagram-cluster.statediagram-cluster .inner{fill:white}#mermaid-1595125236019 .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0}#mermaid-1595125236019 .statediagram-cluster .inner{rx:0;ry:0}#mermaid-1595125236019 .statediagram-state rect.basic{rx:5px;ry:5px}#mermaid-1595125236019 .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#efefef}#mermaid-1595125236019 .note-edge{stroke-dasharray:5}#mermaid-1595125236019 .statediagram-note rect{fill:#fff5ad;stroke:#aa3;stroke-width:1px;rx:0;ry:0}:root{--mermaid-font-family: &amp;#x27;&amp;quot;trebuchet ms&amp;quot;, verdana, arial&amp;#x27;;--mermaid-font-family: &amp;quot;Comic Sans MS&amp;quot;, &amp;quot;Comic Sans&amp;quot;, cursive}#mermaid-1595125236019 .error-icon{fill:#522}#mermaid-1595125236019 .error-text{fill:#522;stroke:#522}#mermaid-1595125236019 .edge-thickness-normal{stroke-width:2px}#mermaid-1595125236019 .edge-thickness-thick{stroke-width:3.5px}#mermaid-1595125236019 .edge-pattern-solid{stroke-dasharray:0}#mermaid-1595125236019 .edge-pattern-dashed{stroke-dasharray:3}#mermaid-1595125236019 .edge-pattern-dotted{stroke-dasharray:2}#mermaid-1595125236019 .marker{fill:#333}#mermaid-1595125236019 .marker.cross{stroke:#333}

:root { --mermaid-font-family: &amp;quot;trebuchet ms&amp;quot;, verdana, arial;}&lt;/style&gt;&lt;style&gt;#mermaid-1595125236019 {
    color: rgb(0, 0, 0);
    font: 16px &amp;quot;trebuchet ms&amp;quot;, verdana, arial;
  }&lt;/style&gt;&lt;g&gt;&lt;/g&gt;&lt;g&gt;&lt;line id=&quot;actor0&quot; x1=&quot;75&quot; y1=&quot;5&quot; x2=&quot;75&quot; y2=&quot;407&quot; class=&quot;actor-line&quot; stroke-width=&quot;0.5px&quot; stroke=&quot;#999&quot;&gt;&lt;/line&gt;&lt;rect x=&quot;0&quot; y=&quot;0&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;75&quot; y=&quot;32.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;75&quot; dy=&quot;0&quot;&gt;dispatch&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;g&gt;&lt;line id=&quot;actor1&quot; x1=&quot;275&quot; y1=&quot;5&quot; x2=&quot;275&quot; y2=&quot;407&quot; class=&quot;actor-line&quot; stroke-width=&quot;0.5px&quot; stroke=&quot;#999&quot;&gt;&lt;/line&gt;&lt;rect x=&quot;200&quot; y=&quot;0&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;275&quot; y=&quot;32.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;275&quot; dy=&quot;0&quot;&gt;state&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;g&gt;&lt;line id=&quot;actor2&quot; x1=&quot;510&quot; y1=&quot;5&quot; x2=&quot;510&quot; y2=&quot;407&quot; class=&quot;actor-line&quot; stroke-width=&quot;0.5px&quot; stroke=&quot;#999&quot;&gt;&lt;/line&gt;&lt;rect x=&quot;435&quot; y=&quot;0&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;510&quot; y=&quot;32.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;510&quot; dy=&quot;0&quot;&gt;reducer&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;defs&gt;&lt;marker id=&quot;arrowhead&quot; refX=&quot;5&quot; refY=&quot;2&quot; markerWidth=&quot;6&quot; markerHeight=&quot;4&quot; orient=&quot;auto&quot;&gt;&lt;path d=&quot;M 0,0 V 4 L6,2 Z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;defs&gt;&lt;marker id=&quot;crosshead&quot; markerWidth=&quot;15&quot; markerHeight=&quot;8&quot; orient=&quot;auto&quot; refX=&quot;16&quot; refY=&quot;4&quot;&gt;&lt;path fill=&quot;black&quot; stroke=&quot;#000000&quot; stroke-width=&quot;1px&quot; d=&quot;M 9,2 V 6 L16,4 Z&quot; style=&quot;stroke-dasharray:0, 0&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;none&quot; stroke=&quot;#000000&quot; stroke-width=&quot;1px&quot; d=&quot;M 0,1 L 6,7 M 6,1 L 0,7&quot; style=&quot;stroke-dasharray:0, 0&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;defs&gt;&lt;marker id=&quot;sequencenumber&quot; refX=&quot;15&quot; refY=&quot;15&quot; markerWidth=&quot;60&quot; markerHeight=&quot;40&quot; orient=&quot;auto&quot;&gt;&lt;circle cx=&quot;15&quot; cy=&quot;15&quot; r=&quot;6&quot;&gt;&lt;/circle&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;text x=&quot;293&quot; y=&quot;105&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;messageText&quot; dy=&quot;1em&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;action&lt;/text&gt;&lt;line x1=&quot;75&quot; y1=&quot;138&quot; x2=&quot;510&quot; y2=&quot;138&quot; class=&quot;messageLine0&quot; stroke-width=&quot;2&quot; stroke=&quot;none&quot; marker-end=&quot;url(#arrowhead)&quot; marker-start=&quot;url(#sequencenumber)&quot; style=&quot;fill:none&quot;&gt;&lt;/line&gt;&lt;text x=&quot;75&quot; y=&quot;142&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12px&quot; text-anchor=&quot;middle&quot; textLength=&quot;16px&quot; class=&quot;sequenceNumber&quot;&gt;1&lt;/text&gt;&lt;text x=&quot;393&quot; y=&quot;153&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;messageText&quot; dy=&quot;1em&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;current state&lt;/text&gt;&lt;line x1=&quot;275&quot; y1=&quot;186&quot; x2=&quot;510&quot; y2=&quot;186&quot; class=&quot;messageLine0&quot; stroke-width=&quot;2&quot; stroke=&quot;none&quot; marker-end=&quot;url(#arrowhead)&quot; marker-start=&quot;url(#sequencenumber)&quot; style=&quot;fill:none&quot;&gt;&lt;/line&gt;&lt;text x=&quot;275&quot; y=&quot;190&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12px&quot; text-anchor=&quot;middle&quot; textLength=&quot;16px&quot; class=&quot;sequenceNumber&quot;&gt;2&lt;/text&gt;&lt;g&gt;&lt;line x1=&quot;65&quot; y1=&quot;75&quot; x2=&quot;520&quot; y2=&quot;75&quot; class=&quot;loopLine&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;520&quot; y1=&quot;75&quot; x2=&quot;520&quot; y2=&quot;196&quot; class=&quot;loopLine&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;65&quot; y1=&quot;196&quot; x2=&quot;520&quot; y2=&quot;196&quot; class=&quot;loopLine&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;65&quot; y1=&quot;75&quot; x2=&quot;65&quot; y2=&quot;196&quot; class=&quot;loopLine&quot;&gt;&lt;/line&gt;&lt;polygon points=&quot;65,75 115,75 115,88 106.6,95 65,95&quot; class=&quot;labelBox&quot;&gt;&lt;/polygon&gt;&lt;text x=&quot;90&quot; y=&quot;88&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;labelText&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;par&lt;/text&gt;&lt;text x=&quot;317.5&quot; y=&quot;93&quot; text-anchor=&quot;middle&quot; class=&quot;loopText&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;&lt;tspan x=&quot;317.5&quot;&gt;&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;text x=&quot;510&quot; y=&quot;211&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;messageText&quot; dy=&quot;1em&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;compute new state&lt;/text&gt;&lt;path d=&quot;M 510,244 C 570,234 570,274 510,264&quot; class=&quot;messageLine0&quot; stroke-width=&quot;2&quot; stroke=&quot;none&quot; marker-end=&quot;url(#arrowhead)&quot; marker-start=&quot;url(#sequencenumber)&quot; style=&quot;fill:none&quot;&gt;&lt;/path&gt;&lt;text x=&quot;510&quot; y=&quot;248&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12px&quot; text-anchor=&quot;middle&quot; textLength=&quot;16px&quot; class=&quot;sequenceNumber&quot;&gt;3&lt;/text&gt;&lt;text x=&quot;393&quot; y=&quot;289&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; alignment-baseline=&quot;middle&quot; class=&quot;messageText&quot; dy=&quot;1em&quot; style=&quot;font-size:16px;font-weight:400&quot;&gt;replace with new state&lt;/text&gt;&lt;line x1=&quot;510&quot; y1=&quot;322&quot; x2=&quot;275&quot; y2=&quot;322&quot; class=&quot;messageLine1&quot; stroke-width=&quot;2&quot; stroke=&quot;none&quot; marker-end=&quot;url(#arrowhead)&quot; marker-start=&quot;url(#sequencenumber)&quot; style=&quot;stroke-dasharray:3, 3;fill:none&quot;&gt;&lt;/line&gt;&lt;text x=&quot;510&quot; y=&quot;326&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12px&quot; text-anchor=&quot;middle&quot; textLength=&quot;16px&quot; class=&quot;sequenceNumber&quot;&gt;4&lt;/text&gt;&lt;g&gt;&lt;rect x=&quot;0&quot; y=&quot;342&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;75&quot; y=&quot;374.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;75&quot; dy=&quot;0&quot;&gt;dispatch&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;g&gt;&lt;rect x=&quot;200&quot; y=&quot;342&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;275&quot; y=&quot;374.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;275&quot; dy=&quot;0&quot;&gt;state&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;g&gt;&lt;rect x=&quot;435&quot; y=&quot;342&quot; fill=&quot;#eaeaea&quot; stroke=&quot;#666&quot; width=&quot;150&quot; height=&quot;65&quot; rx=&quot;3&quot; ry=&quot;3&quot; class=&quot;actor&quot;&gt;&lt;/rect&gt;&lt;text x=&quot;510&quot; y=&quot;374.5&quot; dominant-baseline=&quot;central&quot; alignment-baseline=&quot;central&quot; class=&quot;actor&quot; style=&quot;text-anchor:middle;font-size:14px;font-weight:400;font-family:Open-Sans, sans-serif&quot;&gt;&lt;tspan x=&quot;510&quot; dy=&quot;0&quot;&gt;reducer&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;/svg&gt;&lt;p class=&quot;css-0&quot;&gt;When you want to update the state:&lt;/p&gt;&lt;ol class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Dispatch an action.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;The hook passes the current state and the action to the reducer function.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;The reducer computes a new state.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;The state is updated with the new state.&lt;/li&gt;&lt;/ol&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; takes care of steps 2 and 4. You‚Äôre responsible for steps 1 and 3.&lt;/p&gt;&lt;h2 id=&quot;the-reducer-function&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;The Reducer Function&lt;a href=&quot;#the-reducer-function&quot; aria-label=&quot;the reducer function permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;These are all valid signatures for reducer functions:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;currentState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispachedAction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;newState&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;currentState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;newState&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; newState&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;As you can see, &lt;mark&gt;the primary job of a reducer is to produce a new
state&lt;/mark&gt;, optionally taking into account the current state and the
dispatched action.&lt;/p&gt;&lt;h2 id=&quot;putting-it-all-together-with-usereducer&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Putting It All Together With useReducer&lt;a href=&quot;#putting-it-all-together-with-usereducer&quot; aria-label=&quot;putting it all together with usereducer permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;https://reactjs.org/docs/hooks-reference.html#usereducer&quot; class=&quot;css-0&quot;&gt;The signature of &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt;&lt;/a&gt; is:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;You pass in a &lt;code class=&quot;language-text css-0&quot;&gt;reducer&lt;/code&gt; function (and optionally an &lt;code class=&quot;language-text css-0&quot;&gt;initialState&lt;/code&gt;) to
instantiate a &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; hook. What you get back is a &lt;strong class=&quot;css-0&quot;&gt;read-only&lt;/strong&gt; &lt;code class=&quot;language-text css-0&quot;&gt;state&lt;/code&gt;
and a &lt;code class=&quot;language-text css-0&quot;&gt;dispatch&lt;/code&gt; function which you‚Äôll use to trigger the &lt;code class=&quot;language-text css-0&quot;&gt;reducer&lt;/code&gt;.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;This is one of the key differences when compared to &lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt;‚Äîa &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt;
hook computes the next state internally using a &lt;code class=&quot;language-text css-0&quot;&gt;reducer&lt;/code&gt; function, while a
&lt;code class=&quot;language-text css-0&quot;&gt;useState&lt;/code&gt; hook relies entirely on external calculations for its next state.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;For the rest of the article, we‚Äôll focus on different &lt;code class=&quot;language-text css-0&quot;&gt;reducer&lt;/code&gt; (a.k.a. ‚Äúnew
state‚Äù calculator) implementation patterns.&lt;/p&gt;&lt;h2 id=&quot;reducer-without-any-params&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Reducer Without Any Params&lt;a href=&quot;#reducer-without-any-params&quot; aria-label=&quot;reducer without any params permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;code class=&quot;language-text css-0&quot;&gt;() =&amp;gt; newState&lt;/code&gt;&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;The primary job of a reducer is to return a new state. In its simplest form, a
reducer doesn‚Äôt even need to accept any parameters.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; update&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      Now&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLocaleDateString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLocaleTimeString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Update&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;The names &lt;code class=&quot;language-text css-0&quot;&gt;state&lt;/code&gt;, &lt;code class=&quot;language-text css-0&quot;&gt;dispatch&lt;/code&gt;, and &lt;code class=&quot;language-text css-0&quot;&gt;reducer&lt;/code&gt; are conceptual. In practice, you
can name them anything you like. In this example, they are &lt;code class=&quot;language-text css-0&quot;&gt;date&lt;/code&gt; (state),
&lt;code class=&quot;language-text css-0&quot;&gt;update&lt;/code&gt; (dispatch), and &lt;code class=&quot;language-text css-0&quot;&gt;reducer&lt;/code&gt;.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;Notice that we invoke &lt;code class=&quot;language-text css-0&quot;&gt;update()&lt;/code&gt; &lt;em class=&quot;css-0&quot;&gt;without&lt;/em&gt; passing in any parameters. The
dispatch function signals the hook to run the reducer function, it‚Äôs up to you
whether you need to send an action with the signal or not. In this case, the
hook actually runs &lt;code class=&quot;language-text css-0&quot;&gt;reducer(currentState, undefined)&lt;/code&gt;.&lt;/p&gt;&lt;h3 id=&quot;-but-wait-the-reducer-doesnt-accept-any-params&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;ü§î But Wait, the Reducer Doesn‚Äôt Accept Any Params&lt;a href=&quot;#-but-wait-the-reducer-doesnt-accept-any-params&quot; aria-label=&quot; but wait the reducer doesnt accept any params permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p class=&quot;css-0&quot;&gt;That‚Äôs right. In JavaScript, just because you pass parameters to a function,
doesn‚Äôt mean it needs to accept them.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;sayHi&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;hi&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sayHi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// result === &amp;quot;hi&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;button&gt;Load Repl&lt;/button&gt;&lt;/p&gt;&lt;h3&gt;üë©‚Äçüíª Try the No-Params Reducer Example&lt;/h3&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;h2 id=&quot;reducer-using-current-state&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Reducer Using Current State&lt;a href=&quot;#reducer-using-current-state&quot; aria-label=&quot;reducer using current state permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;code class=&quot;language-text css-0&quot;&gt;(currentState) =&amp;gt; newState&lt;/code&gt;&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;This form of reducer is useful when you need the current state to calculate the
next state.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;reducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; addOne&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;addOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Add &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;Once again, the dispatch function, &lt;code class=&quot;language-text css-0&quot;&gt;addOne()&lt;/code&gt;, doesn‚Äôt need to pass an action to
&lt;code class=&quot;language-text css-0&quot;&gt;reducer&lt;/code&gt;‚Äîthe &lt;code class=&quot;language-text css-0&quot;&gt;reducer&lt;/code&gt; is capable of computing the next state entirely based on
the current state.&lt;/p&gt;&lt;h3&gt;üë©‚Äçüíª Try It Out&lt;/h3&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;&lt;h2 id=&quot;takeaways&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Takeaways&lt;a href=&quot;#takeaways&quot; aria-label=&quot;takeaways permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;The primary job of a reducer is to produce a new state.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;A reducer function can take zero, one, or two params:
&lt;code class=&quot;language-text css-0&quot;&gt;([currentState], [dispachedAction])&lt;/code&gt;.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;code class=&quot;language-text css-0&quot;&gt;dispatch()&lt;/code&gt; signals the &lt;code class=&quot;language-text css-0&quot;&gt;useReducer&lt;/code&gt; hook to invoke the reducer.&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;intermission&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Intermission&lt;a href=&quot;#intermission&quot; aria-label=&quot;intermission permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;üòÖ Whew, let‚Äôs take a break for now. &lt;a href=&quot;/articles/reducer-patterns/part-2/&quot; class=&quot;css-0&quot;&gt;In part 2&lt;/a&gt;: we‚Äôll explore reducers
that use actions, as well as actions in combination with the current state.&lt;/p&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;/articles/reducer-patterns/part-2/&quot; class=&quot;css-0&quot;&gt;Part 2: Reducers with actions&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;a href=&quot;/articles/reducer-patterns/part-3/&quot; class=&quot;css-0&quot;&gt;Part 3: Reducers with switch statements&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Formatting Dates in JavaScript]]></title><description><![CDATA[Use JavaScript's built-in tools to format dates.]]></description><link>https://gsong.dev/articles/to-locale-date-string/</link><guid isPermaLink="false">https://gsong.dev/articles/to-locale-date-string/</guid><pubDate>Fri, 10 Jul 2020 15:23:12 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;w6zcm7&quot;&gt;body{color:text;background-color:var(--theme-ui-colors-background-0,hsl(44,87%,98%));background-color:var(--theme-ui-colors-background-1,hsl(44,87%,94%));background-color:var(--theme-ui-colors-background-2,hsl(44,100%,87%));}&lt;/style&gt;&lt;style data-emotion-css=&quot;1d7m1w5&quot;&gt;*{box-sizing:border-box;}body{margin:0;}&lt;/style&gt;&lt;p class=&quot;css-0&quot;&gt;Do you automatically reach for &lt;a href=&quot;https://momentjs.com&quot; class=&quot;css-0&quot;&gt;Moment.js&lt;/a&gt; when you need to format dates? Or
perhaps you prefer &lt;a href=&quot;https://date-fns.org&quot; class=&quot;css-0&quot;&gt;date-fns&lt;/a&gt;? But if you have basic formatting needs, don‚Äôt
discount the built-in JavaScript tools.&lt;/p&gt;&lt;h2 id=&quot;use-case&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Use Case&lt;a href=&quot;#use-case&quot; aria-label=&quot;use case permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;I‚Äôm displaying a date with each article on this site. The source of the date is
an &lt;a href=&quot;https://en.wikipedia.org/wiki/ISO_8601&quot; class=&quot;css-0&quot;&gt;ISO date string&lt;/a&gt;, which looks like &lt;code class=&quot;language-text&quot;&gt;2020-08-02T23:44:39.191Z&lt;/code&gt;. This is a typical
format you‚Äôll receive as part of an API response, for example.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;While the ISO format is explicit and great for cross-boundary data exchange,
it‚Äôs not display-friendly. Let‚Äôs show a localized date string instead.&lt;/p&gt;&lt;p&gt;&lt;label&gt;&lt;select&gt;&lt;option value=&quot;ar&quot;&gt;Arabic&lt;/option&gt;&lt;option value=&quot;zh&quot;&gt;Chinese&lt;/option&gt;&lt;option selected=&quot;&quot; value=&quot;en&quot;&gt;English&lt;/option&gt;&lt;option value=&quot;fr&quot;&gt;French&lt;/option&gt;&lt;option value=&quot;de&quot;&gt;German&lt;/option&gt;&lt;option value=&quot;id&quot;&gt;Indonesian&lt;/option&gt;&lt;option value=&quot;ja&quot;&gt;Japanese&lt;/option&gt;&lt;option value=&quot;pt&quot;&gt;Portugese&lt;/option&gt;&lt;option value=&quot;ru&quot;&gt;Russian&lt;/option&gt;&lt;option value=&quot;es&quot;&gt;Spanish&lt;/option&gt;&lt;/select&gt;&lt;style data-emotion-css=&quot;1f2k2gl&quot;&gt;.css-1f2k2gl{margin-left:0.5rem;}&lt;/style&gt;&lt;span class=&quot;css-1f2k2gl&quot;&gt;locale&lt;/span&gt;&lt;/label&gt; displays August 2, 2020&lt;/p&gt;&lt;h2 id=&quot;solution&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Solution&lt;a href=&quot;#solution&quot; aria-label=&quot;solution permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ol class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date#Timestamp_string&quot; class=&quot;css-0&quot;&gt;Parse the ISO date string&lt;/a&gt;&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isoDateString &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2020-07-10T14:16:40.463Z&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; date &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isoDateString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/NavigatorLanguage/language&quot; class=&quot;css-0&quot;&gt;Get the browser locale&lt;/a&gt;&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; locale &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; window &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;undefined&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;en&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;language&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;If we‚Äôre not in a browser environment (&lt;code class=&quot;language-text css-0&quot;&gt;window === &amp;quot;undefined&amp;quot;&lt;/code&gt;), default to
English.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleDateString&quot; class=&quot;css-0&quot;&gt;Format the date&lt;/a&gt;&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; formattedDate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLocaleDateString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;locale&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  year&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;numeric&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  month&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;long&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  day&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;numeric&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat#Parameters&quot; class=&quot;css-0&quot;&gt;See the &lt;code class=&quot;language-text css-0&quot;&gt;Intl.DateTimeFormat()&lt;/code&gt; constructor&lt;/a&gt; for details on the
parameters.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p class=&quot;css-0&quot;&gt;It‚Äôs a bit more code than using one of the libraries, but your users will thank
you for the smaller bundle size.&lt;/p&gt;&lt;p class=&quot;css-0&quot;&gt;OK, they probably won‚Äôt‚Äîbut you‚Äôll have the satisfaction of knowing you‚Äôve done
your part to improve their experience.&lt;/p&gt;&lt;h2&gt;üë©‚Äçüíª Try It Out&lt;/h2&gt;&lt;p&gt;&lt;button&gt;Load CodeSandbox&lt;/button&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Remove Properties From JavaScript Objects]]></title><description><![CDATA[Learn about object destructuring and spread/rest syntax.]]></description><link>https://gsong.dev/articles/remove-unwanted-properties/</link><guid isPermaLink="false">https://gsong.dev/articles/remove-unwanted-properties/</guid><pubDate>Thu, 09 Jul 2020 14:53:23 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;w6zcm7&quot;&gt;body{color:text;background-color:var(--theme-ui-colors-background-0,hsl(44,87%,98%));background-color:var(--theme-ui-colors-background-1,hsl(44,87%,94%));background-color:var(--theme-ui-colors-background-2,hsl(44,100%,87%));}&lt;/style&gt;&lt;style data-emotion-css=&quot;1d7m1w5&quot;&gt;*{box-sizing:border-box;}body{margin:0;}&lt;/style&gt;&lt;h2 id=&quot;use-case&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Use Case&lt;a href=&quot;#use-case&quot; aria-label=&quot;use case permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;You have a JavaScript object that you got from somewhere (e.g. retrieved from
API):&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; restaurant &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Nong&amp;#x27;s Khao Man Gai&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  address&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;609 SE Ankeny St&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  phone&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;503-740-2907&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  secretKeyLocation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;somewhere&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;You want to remove &lt;code class=&quot;language-text css-0&quot;&gt;secretKeyLocation&lt;/code&gt; before passing the object onto the next
part of the workflow.&lt;/p&gt;&lt;h2 id=&quot;solution-destructurerest-syntax&quot; style=&quot;position:relative&quot; class=&quot;css-0&quot;&gt;Solution: Destructure/Rest Syntax&lt;a href=&quot;#solution-destructurerest-syntax&quot; aria-label=&quot;solution destructurerest syntax permalink&quot; class=&quot;header-link after css-0&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p class=&quot;css-0&quot;&gt;The combination of &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Object_destructuring&quot; class=&quot;css-0&quot;&gt;object destructuring&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_object_literals&quot; class=&quot;css-0&quot;&gt;object literal
spread/rest syntax&lt;/a&gt; to the rescue ‚õë.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secretKeyLocation&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;rest &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; restaurant&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;doSomethingWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rest&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;With this, you now have three variables:&lt;/p&gt;&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;code class=&quot;language-text css-0&quot;&gt;secretKeyLocation&lt;/code&gt; with the value of &lt;code class=&quot;language-text css-0&quot;&gt;&amp;quot;somewhere&amp;quot;&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;code class=&quot;language-text css-0&quot;&gt;rest&lt;/code&gt;, a new object with the &lt;code class=&quot;language-text css-0&quot;&gt;secretKeyLocation&lt;/code&gt; property removed:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight css-0&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-js line-numbers css-0&quot;&gt;&lt;code class=&quot;language-js css-0&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Nong&amp;#x27;s Khao Man Gai&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  address&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;609 SE Ankeny St&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  phone&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;503-740-2907&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-0&quot;&gt;It‚Äôs worth noting that &lt;code class=&quot;language-text css-0&quot;&gt;rest&lt;/code&gt; can be whatever variable name you want, there‚Äôs
nothing special about the name &lt;code class=&quot;language-text css-0&quot;&gt;rest&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-0&quot;&gt;&lt;code class=&quot;language-text css-0&quot;&gt;restaurant&lt;/code&gt; remains untouched and retains its original value. Immutability
FTW üôå!&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;üë©‚Äçüíª Try It Out&lt;/h2&gt;&lt;p&gt;&lt;button&gt;Load Repl&lt;/button&gt;&lt;/p&gt;</content:encoded></item></channel></rss>