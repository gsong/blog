<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45 'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.618rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.33471rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.21225rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.90825rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'system',-apple-system,'BlinkMacSystemFont','Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Lucida Grande','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.86558rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:1.45rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><style data-href="/styles.caec81cfe3614323666b.css">code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}</style><meta name="generator" content="Gatsby 2.24.76"/><title data-react-helmet="true">Using the HTML Data List Element for Simple Combo Boxes | George Song‚Äôs Website</title><meta data-react-helmet="true" name="description" content="For simple combo box needs, give HTML a chance."/><meta data-react-helmet="true" property="og:title" content="Using the HTML Data List Element for Simple Combo Boxes"/><meta data-react-helmet="true" property="og:description" content="For simple combo box needs, give HTML a chance."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@zukefresh"/><meta data-react-helmet="true" name="twitter:title" content="Using the HTML Data List Element for Simple Combo Boxes"/><meta data-react-helmet="true" name="twitter:description" content="For simple combo box needs, give HTML a chance."/><meta data-react-helmet="true" name="keywords" content="html, javascript, react"/><link rel="icon" href="/favicon-32x32.png?v=7dac84e604769a2b765823229eec619b" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=7dac84e604769a2b765823229eec619b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=7dac84e604769a2b765823229eec619b"/><link rel="alternate" type="application/rss+xml" title="George Song‚Äôs Articles" href="/articles/rss.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-af6aa026e65b6c79c543.js"/><link as="script" rel="preload" href="/styles-83801f3b4dd3459a4027.js"/><link as="script" rel="preload" href="/app-075ec943b1120ae089d8.js"/><link as="script" rel="preload" href="/component---content-articles-datalist-autosuggest-index-mdx-9beee1dd25f26fdf047d.js"/><link as="fetch" rel="preload" href="/page-data/articles/datalist-autosuggest/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2986802049.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2986802049.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/436707970.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/436707970.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="w6zcm7">body{color:text;background-color:var(--theme-ui-colors-background-0,hsl(44,87%,98%));background-color:var(--theme-ui-colors-background-1,hsl(44,87%,94%));background-color:var(--theme-ui-colors-background-2,hsl(44,100%,87%));}</style><style data-emotion-css="1d7m1w5">*{box-sizing:border-box;}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1xcc47j">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}body{background-color:var(--theme-ui-colors-background-0,hsl(44,87%,98%));color:var(--theme-ui-colors-font-body-1,hsl(192,81%,14%));margin:auto;max-width:600px;width:95vw;}a{color:var(--theme-ui-colors-link,hsl(205,80%,40%));-webkit-text-decoration:none;text-decoration:none;}a:focus,a:hover{-webkit-text-decoration:underline;text-decoration:underline;}blockquote p{border-left:5px solid lightgray;padding-left:0.75rem;}button{background-color:var(--theme-ui-colors-button-0,hsl(205,50%,50%));border:0;border-radius:0.3em;box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);color:white;padding:0.5rem 1rem;}button:active{box-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);}button:focus,button:hover{background-color:var(--theme-ui-colors-button-1,hsl(205,80%,40%));cursor:pointer;}mark{color:var(--theme-ui-colors-font-body-1,hsl(192,81%,14%));}p > img{display:block;margin:auto;}.header-link{padding-left:0.5rem;padding-right:0.5rem;}.link-hover:focus,.link-hover:hover{color:var(--theme-ui-colors-link,hsl(205,80%,40%));}code[class*="language-"],pre[class*="language-"]{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Andale Mono","Ubuntu Mono","Courier New",monospace;font-size:clamp(0.75rem,2vw,0.875rem);font-variant-ligatures:none;}.gatsby-highlight{background-color:var(--theme-ui-colors-background-1,hsl(44,87%,94%));border-radius:0.3em;box-shadow:0 1px 2px 0 rgba(0,0,0,0.05);margin:0.5em 0 1.45rem;overflow:auto;padding:1em;}@supports (display:grid){.gatsby-highlight{position:relative;left:50%;right:50%;margin-left:calc((min(100vw,860px) / 2 * -1) + 0px);margin-right:calc((min(100vw,860px) / 2 * -1) + 0px);width:100vw;max-width:860px;}}.gatsby-highlight pre[class*="language-"]{background-color:transparent;float:left;margin:0;min-width:100%;overflow:initial;padding:0;}.gatsby-highlight pre[class*="language-"].line-numbers{padding-left:2.8em;}.gatsby-highlight-code-line{background-color:var(--theme-ui-colors-background-2,hsl(44,100%,87%));border-left:0.25em solid hsl(0,100%,80%);display:block;margin-left:-1em;margin-right:-1em;padding-left:0.75em;padding-right:1em;}h2 code[class*="language-"],h3 code[class*="language-"]{background-color:unset;color:unset;padding:0;font-size:inherit;line-height:inherit;}h2 code[class*="language-"]::selection,h3 code[class*="language-"]::selection{background-color:highlight;}li .gatsby-highlight{margin-bottom:calc(1.45rem / 2);}@supports (display:grid){li .gatsby-highlight{margin-left:calc((min(100vw,860px) / 2 * -1) + -0.725rem);}}</style><style data-emotion-css="1ctb7zc">.css-1ctb7zc{margin-top:1rem;margin-bottom:2rem;margin-left:0;margin-right:0;}</style><header class="css-1ctb7zc"><h1><style data-emotion-css="1sl0qb9">.css-1sl0qb9{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--theme-ui-colors-font-body-1,hsl(192,81%,14%));display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:1.125rem;}.css-1sl0qb9:focus,.css-1sl0qb9:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="link-hover css-1sl0qb9" aria-label="Return to homepage" href="/"><style data-emotion-css="52mbxe">.css-52mbxe{border-radius:50%;max-width:50px;max-height:50px;}</style><div class="css-52mbxe gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:115px;height:115px"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAMEAQIF/8QAFwEBAQEBAAAAAAAAAAAAAAAAAgEAA//aAAwDAQACEAMQAAABnp7Y1upzHIlAg6T/xAAbEAACAgMBAAAAAAAAAAAAAAABAgMRABIhE//aAAgBAQABBQJ20VlnteqwPpWCLjMdmNYJmI//xAAYEQACAwAAAAAAAAAAAAAAAAABEAIRMf/aAAgBAwEBPwEC1HF//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAQIf/aAAgBAgEBPwFbk5//xAAcEAACAgIDAAAAAAAAAAAAAAAAARFhAkESMWL/2gAIAQEABj8CmJejlKdCcI8nbEJWZUaP/8QAHBABAAMAAwEBAAAAAAAAAAAAAQARIUFRYTGR/9oACAEBAAE/IcVsoewFvk/JiNi4/S9ZSwP1hhIYdznUYW44WS4JH//aAAwDAQACAAMAAAAQL/8AA//EABgRAAMBAQAAAAAAAAAAAAAAAAABMRAR/9oACAEDAQE/EKGdZbP/xAAZEQACAwEAAAAAAAAAAAAAAAAAARAhUWH/2gAIAQIBAT8QxF0Vcf/EAB0QAQEAAgMAAwAAAAAAAAAAAAERACExQVFhsdH/2gAIAQEAAT8QMWxM7WjeRpQroicTKfIY3JdzONW20J584d9bpUxChArt94BqADeZcDWXcBm4HfH9z//Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/9dee0a9aad2546238052bcc628fd0146/19daf/gs-headshot.jpg 1x,
/static/9dee0a9aad2546238052bcc628fd0146/f6634/gs-headshot.jpg 1.5x,
/static/9dee0a9aad2546238052bcc628fd0146/cd0be/gs-headshot.jpg 2x" /><img loading="lazy" width="115" height="115" srcset="/static/9dee0a9aad2546238052bcc628fd0146/19daf/gs-headshot.jpg 1x,
/static/9dee0a9aad2546238052bcc628fd0146/f6634/gs-headshot.jpg 1.5x,
/static/9dee0a9aad2546238052bcc628fd0146/cd0be/gs-headshot.jpg 2x" src="/static/9dee0a9aad2546238052bcc628fd0146/19daf/gs-headshot.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><style data-emotion-css="qouyfz">.css-qouyfz{margin-left:0.75rem;}</style><div class="css-qouyfz">George Song</div></a></h1></header><main><article><style data-emotion-css="1ejsnnb">.css-1ejsnnb{color:var(--theme-ui-colors-font-articleH1,hsl(331,64%,52%));}</style><h1 class="css-1ejsnnb">Using the HTML Data List Element for Simple Combo Boxes</h1><p><style data-emotion-css="16x22ed">.css-16x22ed{color:var(--theme-ui-colors-font-body-0,hsl(194,14%,40%));font-size:0.875rem;}</style><a href="https://github.com/gsong/personal-site/commits/main/content/articles/datalist-autosuggest/index.mdx" class="link-hover css-16x22ed" aria-label="Published on September 12, 2020. Updated on September 20, 2020">September 12, 2020 (updated September 20, 2020)</a></p><h2 id="table-of-contents" style="position:relative" class="css-0">Table of Contents<a href="#table-of-contents" aria-label="table of contents permalink" class="header-link after css-0"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><div class="toc css-0"></div><ul class="css-0"><li class="css-0"><p class="css-0"><a href="#use-case" class="css-0">Use Case</a></p></li><li class="css-0"><p class="css-0"><a href="#solution-html-datalist" class="css-0">Solution: HTML <code class="language-text css-0">&lt;datalist&gt;</code></a></p><ul class="css-0"><li class="css-0"><a href="#version-1" class="css-0">Version 1</a></li><li class="css-0"><a href="#version-2" class="css-0">Version 2</a></li><li class="css-0"><a href="#version-3" class="css-0">Version 3</a></li><li class="css-0"><a href="#version-4" class="css-0">Version 4</a></li></ul></li><li class="css-0"><p class="css-0"><a href="#accessibility" class="css-0">Accessibility</a></p></li><li class="css-0"><p class="css-0"><a href="#other-use-cases" class="css-0">Other Use Cases</a></p></li><li class="css-0"><p class="css-0"><a href="#takeaways" class="css-0">Takeaways</a></p></li></ul><undefined></undefined><h2 id="use-case" style="position:relative" class="css-0">Use Case<a href="#use-case" aria-label="use case permalink" class="header-link after css-0"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><p class="css-0">For a search feature, we‚Äôre storing the 100 most recently used (‚ÄúMRU‚Äù) search
terms. In the search box, we want to auto suggest based on the MRU terms, but
not restrict the input to just those terms.</p><form><style data-emotion-css="1xe59u8">.css-1xe59u8{margin-right:0.25rem;}</style><label for="term" class="css-1xe59u8">Search term</label><style data-emotion-css="9u48bm">.css-9u48bm{margin-right:0.5rem;}</style><input id="term" name="term" list="recent-terms" value="" class="css-9u48bm"/><datalist id="recent-terms"></datalist><style data-emotion-css="1f8rv67">.css-1f8rv67{padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;}.css-1f8rv67:disabled{background-color:var(--theme-ui-colors-gray-0,hsl(194,14%,40%));cursor:unset;}</style><button disabled="" class="css-1f8rv67">Search</button></form><p>Submitted<!-- --> term:<!-- --> </p><h2 id="solution-html-datalist" style="position:relative" class="css-0">Solution: HTML <code class="language-text css-0">&lt;datalist&gt;</code><a href="#solution-html-datalist" aria-label="solution html datalist permalink" class="header-link after css-0"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><p class="css-0">Until recently, I didn‚Äôt know about the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/datalist" class="css-0"><code class="language-text css-0">&lt;datalist&gt;</code></a> element until I
read <a href="https://www.peterbe.com/plog/datalist-looks-great-on-mobile-devices" class="css-0">Peter Bengtsson‚Äôs article</a>. <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/datalist" class="css-0">According to MDN</a>:</p><blockquote class="css-0"><p class="css-0">The HTML <code class="language-text css-0">&lt;datalist&gt;</code> element contains a set of <code class="language-text css-0">&lt;option&gt;</code> elements that
represent the permissible or recommended options available to choose from
within other controls.</p></blockquote><p class="css-0">Sounds exactly like what we need.</p><h3 id="version-1" style="position:relative" class="css-0">Version 1<a href="#version-1" aria-label="version 1 permalink" class="header-link after css-0"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3><p class="css-0">Let‚Äôs start with a basic implementation:</p><div class="gatsby-highlight has-highlighted-lines css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>term<span class="token punctuation">,</span> setTerm<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>mruTerms<span class="token punctuation">,</span> setMruTerms<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="gatsby-highlight-code-line">React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://random-word-api.herokuapp.com/word?number=100&amp;swear=0&quot;</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setMruTerms</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>main<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>form
      autoComplete<span class="token operator">=</span><span class="token string">&quot;off&quot;</span>
      onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> term <span class="token operator">=</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>term<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>term<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">          <span class="token function">setTerm</span><span class="token punctuation">(</span>term<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">          <span class="token function">setMruTerms</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span>term<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">...</span>mruTerms<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;term&quot;</span><span class="token operator">&gt;</span>Search term<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input list<span class="token operator">=</span><span class="token string">&quot;mru-terms&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;term&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;term&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="gatsby-highlight-code-line">      <span class="token operator">&lt;</span>datalist id<span class="token operator">=</span><span class="token string">&quot;mru-terms&quot;</span> key<span class="token operator">=</span><span class="token punctuation">{</span>term<span class="token punctuation">}</span><span class="token operator">&gt;</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">{</span>mruTerms<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">term</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span></span><span class="gatsby-highlight-code-line">          <span class="token operator">&lt;</span>option key<span class="token operator">=</span><span class="token punctuation">{</span>term<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span>term<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>datalist<span class="token operator">&gt;</span></span>
      <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>Search<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Submitted term<span class="token operator">:</span> <span class="token punctuation">{</span>term<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><ol class="css-0"><li class="css-0">We keep track of two pieces of context data: what the user submits (<code class="language-text css-0">term</code>),
and the list of MRU terms (<code class="language-text css-0">mruTerms</code>).</li><li class="css-0">We initialize <code class="language-text css-0">mruTerms</code> when the component is first rendered. In a real app,
this can be fetched from a service, upstream app state, or <code class="language-text css-0">localStorage</code>.</li><li class="css-0"><code class="language-text css-0">&lt;option&gt;</code> elements of the <code class="language-text css-0">&lt;datalist&gt;</code> are generated from <code class="language-text css-0">mruTerms</code>. Notice
the entire <code class="language-text css-0">&lt;datalist&gt;</code> component is replaced every time <code class="language-text css-0">term</code> changes since
we bind it to the <code class="language-text css-0">key</code> prop.<ul class="css-0"><li class="css-0">You can think of <code class="language-text css-0">mruTerms</code> as a detail of <code class="language-text css-0">term</code>, since every time <code class="language-text css-0">term</code>
changes, we are generating a new array of associated <code class="language-text css-0">mruTerms</code>.</li><li class="css-0">As a bonus, this also works around a longstanding <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1474137" class="css-0">Firefox bug</a> with
dynamic datalists.</li></ul></li><li class="css-0">Each time the user performs a search, both <code class="language-text css-0">term</code> and <code class="language-text css-0">mruTerms</code> are updated
(and persisted in a real app).</li></ol><h4>üë©‚Äçüíª Try It Out</h4><p><button>Load CodeSandbox</button></p><h3 id="version-2" style="position:relative" class="css-0">Version 2<a href="#version-2" aria-label="version 2 permalink" class="header-link after css-0"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3><p class="css-0">With very little code, our autosuggest feature already works pretty well. Let‚Äôs
refactor our code so all context data is handled within a single object:</p><div class="gatsby-highlight has-highlighted-lines css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="token keyword">const</span> <span class="token function-variable function">useInitialize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> term<span class="token punctuation">,</span> mruTerms <span class="token punctuation">}</span><span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialData<span class="token punctuation">)</span><span class="token punctuation">;</span></span>  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://random-word-api.herokuapp.com/word?number=100&amp;swear=0&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">payload</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&quot;init&quot;</span><span class="token punctuation">,</span> payload <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">updateTerm</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">payload</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&quot;updateTerm&quot;</span><span class="token punctuation">,</span> payload <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> term<span class="token punctuation">,</span> mruTerms<span class="token punctuation">,</span> actions <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> initialData <span class="token operator">=</span> <span class="token punctuation">{</span> term<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> mruTerms<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> payload <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> term<span class="token punctuation">,</span> mruTerms <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;init&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> term<span class="token punctuation">,</span> mruTerms<span class="token operator">:</span> payload <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;updateTerm&quot;</span><span class="token operator">:</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>payload<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> data<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        term<span class="token operator">:</span> payload<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        mruTerms<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span>payload<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">...</span>mruTerms<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><ol class="css-0"><li class="css-0">Instead of multiple <code class="language-text css-0">useState</code>s, we consolidate into a single <code class="language-text css-0">useReducer</code>.</li><li class="css-0">We move most of the business logic into a custom hook, simplifying the actual
component.</li></ol><h4>üë©‚Äçüíª Try It Out</h4><p><button>Load CodeSandbox</button></p><h3 id="version-3" style="position:relative" class="css-0">Version 3<a href="#version-3" aria-label="version 3 permalink" class="header-link after css-0"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3><p class="css-0">For our purposes, the search terms ‚Äúice cream‚Äù, ‚ÄúIce Cream‚Äù, and ‚Äù ICE CREAM ‚Äù
are all considered equivalents. We want to store the last version used (minus
the surrounding spaces) without duplicates in <code class="language-text css-0">mruTerms</code>.</p><p class="css-0">Let‚Äôs create couple helper functions first:</p><div class="gatsby-highlight css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="token keyword">const</span> <span class="token function-variable function">addMruTerm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">mruTerms<span class="token punctuation">,</span> term</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token punctuation">[</span>term<span class="token punctuation">,</span> <span class="token operator">...</span>mruTerms<span class="token punctuation">]</span>
    <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter">unique<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        unique<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">trimLower</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">trimLower</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token operator">?</span> unique
          <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>unique<span class="token punctuation">,</span> item<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">trimLower</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">term</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> term<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><p class="css-0">Then we change how we update <code class="language-text css-0">mruTerms</code> in the reducer:</p><div class="gatsby-highlight css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0">mruTerms<span class="token operator">:</span> <span class="token function">addMruTerm</span><span class="token punctuation">(</span>mruTerms<span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div><h4>üë©‚Äçüíª Try It Out</h4><p><button>Load CodeSandbox</button></p><h3 id="version-4" style="position:relative" class="css-0">Version 4<a href="#version-4" aria-label="version 4 permalink" class="header-link after css-0"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3><p class="css-0">Our autosuggest feature is starting to work nicely. You‚Äôll notice that Chrome
and Firefox sort suggestions in the <code class="language-text css-0">mruTerms</code> array order. I think a better
experience would be to sort by three major sections. For example, if the search
term is ‚Äúcr‚Äù:</p><ol class="css-0"><li class="css-0">First, suggestions that begin with the current search term, e.g.
‚Äù<mark>cr</mark>anial‚Äù, ‚Äù<mark>cr</mark>eamery‚Äù.</li><li class="css-0">Next, suggestions that contain words that start with the current search, e.g.
‚Äúheavy <mark>cr</mark>ate‚Äù, ‚Äúice <mark>cr</mark>eam‚Äù.</li><li class="css-0">Finally, suggestions that contain the search term, anywhere, e.g.
‚Äúdis<mark>cr</mark>eet‚Äù, ‚Äús<mark>cr</mark>ibe‚Äù.</li></ol><p class="css-0">Within each section, we can further sort alphabetically.</p><p class="css-0">In order to accomplish this, we need to update <code class="language-text css-0">&lt;datalist&gt;</code> as we type the
search term. This means we need to keep track of couple additional pieces of
context data: <code class="language-text css-0">draft</code> and <code class="language-text css-0">sortedMruTerms</code>:</p><div class="gatsby-highlight css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="token keyword">const</span> initialData <span class="token operator">=</span> <span class="token punctuation">{</span> draft<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> term<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> mruTerms<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> sortedMruTerms<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div><p class="css-0">We also add another helper function <code class="language-text css-0">sortMruTerms</code>, and adjust the <code class="language-text css-0">reducer</code>
accordingly:</p><div class="gatsby-highlight has-highlighted-lines css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> payload <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> draft<span class="token punctuation">,</span> mruTerms <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">case</span> <span class="token string">&quot;init&quot;</span><span class="token operator">:</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>data<span class="token punctuation">,</span> mruTerms<span class="token operator">:</span> payload<span class="token punctuation">,</span> sortedMruTerms<span class="token operator">:</span> payload <span class="token punctuation">}</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">case</span> <span class="token string">&quot;updateDraft&quot;</span><span class="token operator">:</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        <span class="token operator">...</span>data<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        draft<span class="token operator">:</span> payload<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        sortedMruTerms<span class="token operator">:</span> <span class="token function">sortMruTerms</span><span class="token punctuation">(</span>mruTerms<span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">case</span> <span class="token string">&quot;updateTerm&quot;</span><span class="token operator">:</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>draft<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> data<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        <span class="token operator">...</span>data<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        term<span class="token operator">:</span> draft<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        mruTerms<span class="token operator">:</span> <span class="token function">addMruTerm</span><span class="token punctuation">(</span>mruTerms<span class="token punctuation">,</span> draft<span class="token punctuation">)</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">;</span></span>    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> <span class="token function-variable function">sortMruTerms</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">mruTerms<span class="token punctuation">,</span> term</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> partial <span class="token operator">=</span> <span class="token function">trimLower</span><span class="token punctuation">(</span>term<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>partial <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> mruTerms<span class="token punctuation">;</span>

  <span class="token keyword">let</span> terms <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>mruTerms<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> sorted <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">sortFilters</span><span class="token punctuation">(</span>partial<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">filter</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    sorted <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>sorted<span class="token punctuation">,</span> <span class="token operator">...</span>terms<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>filter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    terms <span class="token operator">=</span> terms<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>sorted<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> sorted<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">sortFilters</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">partial</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
  <span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">trimLower</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>partial<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\\b</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>partial<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">RegExp</span><span class="token punctuation">(</span>partial<span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><ol class="css-0"><li class="css-0">Initialize <code class="language-text css-0">sortedMruTerms</code>.</li><li class="css-0">Add action to handle <code class="language-text css-0">updateDraft</code>, which is called each time the search term
changes.</li><li class="css-0"><code class="language-text css-0">updateTerm</code> no longer requires a payload, since we can calculate new context
values based on <code class="language-text css-0">draft</code>.</li><li class="css-0">Make some tweaks to the custom hook (I trust you can figure this part out on
your own).</li></ol><p class="css-0">Lastly, some minor adjustments in the JSX and we‚Äôre done:</p><div class="gatsby-highlight has-highlighted-lines css-0" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers css-0"><code class="language-js css-0"><span class="token operator">&lt;</span>input
<span class="gatsby-highlight-code-line">  value<span class="token operator">=</span><span class="token punctuation">{</span>draft<span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">  onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> actions<span class="token punctuation">.</span><span class="token function">updateDraft</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span>  list<span class="token operator">=</span><span class="token string">&quot;mru-terms&quot;</span>
  id<span class="token operator">=</span><span class="token string">&quot;term&quot;</span>
  name<span class="token operator">=</span><span class="token string">&quot;term&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="gatsby-highlight-code-line"><span class="token operator">&lt;</span>datalist id<span class="token operator">=</span><span class="token string">&quot;mru-terms&quot;</span> key<span class="token operator">=</span><span class="token punctuation">{</span>draft<span class="token punctuation">}</span><span class="token operator">&gt;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">{</span>sortedMruTerms<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">term</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span></span>    <span class="token operator">&lt;</span>option key<span class="token operator">=</span><span class="token punctuation">{</span>term<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span>term<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>datalist<span class="token operator">&gt;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><ol class="css-0"><li class="css-0">Convert the search term <code class="language-text css-0">&lt;input&gt;</code> into a controlled component, binding its
value to <code class="language-text css-0">draft</code> and event handling to <code class="language-text css-0">updateDraft</code>.</li><li class="css-0"><code class="language-text css-0">&lt;datalist&gt;</code> is now replaced every time <code class="language-text css-0">draft</code> changes, and its values come
from <code class="language-text css-0">sortedMruTerms</code>.</li></ol><h4>üë©‚Äçüíª Try It Out</h4><p><button>Load CodeSandbox</button></p><p class="css-0">As you can see, by abstracting the logic out from the component, we can easily
tweak the behavior while minimizing changes to the component itself. We can also
test the utility functions independently. Composition FTW üôå.</p><p class="css-0">Can you think of other improvements to this feature? Fork one of the
CodeSandboxes and see what you come up with.</p><h2 id="accessibility" style="position:relative" class="css-0">Accessibility<a href="#accessibility" aria-label="accessibility permalink" class="header-link after css-0"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><p class="css-0"><a href="https://westonthayer.com" class="css-0">Weston Thayer</a> and I had a discussion about accessibility for data list. He
pointed out the following issues and resources for further investigation.</p><p class="css-0"><a href="https://a11ysupport.io/tech/html/datalist_element" class="css-0">There are potentially some accessibility issues</a> that may prevent you
from using this technique, specifically screen readers do not convey data list
changes. This may be acceptable in the case of auto suggest, since the user is
free to enter whatever they like‚Äîthe auto suggest feature is a nice-to-have.</p><p class="css-0">For a React-specific alternative, <a href="https://reach.tech/combobox/" class="css-0">check out Reach UI‚Äôs
Combobox</a>. Also <a href="https://www.24a11y.com/2019/select-your-poison/" class="css-0">read 24 Accessibility‚Äôs ‚Äù<!-- -->&lt;<!-- -->select<!-- -->&gt;<!-- --> Your
Poision‚Äù</a> article for in-depth discussion of why this is a
hard-to-solve problem.</p><h2 id="other-use-cases" style="position:relative" class="css-0">Other Use Cases<a href="#other-use-cases" aria-label="other use cases permalink" class="header-link after css-0"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><p class="css-0">It occurred to me that this technique can be used in situations where you want
to normalize data as much as possible, while still allowing the user to freely
enter anything they like.</p><p class="css-0"><a href="/articles/workplace-justice-ally/">In a recent article</a>, I talked about the issue of HR asking for personal pronouns. HR would like the data to be as consistent as possible, but the right thing to do is to allow people to enter whatever they want. Here&#x27;s a possible implementation that fulfills both requirements:</p><form><style data-emotion-css="1xe59u8">.css-1xe59u8{margin-right:0.25rem;}</style><label for="pronoun" class="css-1xe59u8">Personal pronoun</label><style data-emotion-css="9u48bm">.css-9u48bm{margin-right:0.5rem;}</style><input list="presets" id="pronoun" name="pronoun" class="css-9u48bm"/><datalist id="presets"><option value="they/them"></option><option value="she/her"></option><option value="he/him"></option></datalist><style data-emotion-css="1f8rv67">.css-1f8rv67{padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;}.css-1f8rv67:disabled{background-color:var(--theme-ui-colors-gray-0,hsl(194,14%,40%));cursor:unset;}</style><button class="css-1f8rv67">Submit</button></form><p>Submitted pronoun: </p><h2 id="takeaways" style="position:relative" class="css-0">Takeaways<a href="#takeaways" aria-label="takeaways permalink" class="header-link after css-0"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><ul class="css-0"><li class="css-0">For combo boxes, try the built-in <code class="language-text css-0">&lt;datalist&gt;</code> element first.</li><li class="css-0">You can dynamically generate the datalist options based on events.</li><li class="css-0">Abstract out as much logic as possible from your components for composability,
testability, and agility.</li></ul></article></main><style data-emotion-css="k9o8wr">.css-k9o8wr{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--theme-ui-colors-font-body-0,hsl(194,14%,40%));display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:1rem;margin-top:2rem;}</style><footer class="css-k9o8wr"><style data-emotion-css="g7vnnf">.css-g7vnnf{color:var(--theme-ui-colors-font-body-0,hsl(194,14%,40%));padding-top:0.75rem;padding-bottom:0.75rem;}</style><a class="link-hover css-g7vnnf" aria-label="Return to homepage" href="/">George Song ¬© <!-- -->2020</a><style data-emotion-css="qwzfgi">.css-qwzfgi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:1.25rem;}@media (min-width:470px){.css-qwzfgi{margin-left:auto;}}</style><div class="css-qwzfgi"><style data-emotion-css="ob76tp">.css-ob76tp{color:var(--theme-ui-colors-font-body-0,hsl(194,14%,40%));-webkit-transition:-webkit-transform .2s ease-in-out;-webkit-transition:transform .2s ease-in-out;transition:transform .2s ease-in-out;}@media (prefers-reduced-motion:no-preference){.css-ob76tp:focus,.css-ob76tp:hover{-webkit-transform:scale(1.25);-ms-transform:scale(1.25);transform:scale(1.25);}}</style><a href="https://twitter.com/zukefresh" aria-label="Visit my Twitter" class="link-hover css-ob76tp"><style data-emotion-css="1nllhmg">.css-1nllhmg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px;width:48px;}</style><div class="css-1nllhmg"><svg aria-hidden="true" viewBox="0 0 512 512" width="1em" height="1em"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></div></a><a href="mailto:george@gsong.dev?subject=Using%20the%20HTML%20Data%20List%20Element%20for%20Simple%20Combo%20Boxes" aria-label="Email me" class="link-hover css-ob76tp"><div class="css-1nllhmg"><svg aria-hidden="true" viewBox="0 0 512 512" width="1em" height="1em"><path fill="currentColor" d="M494.59 164.52c-1.52-1.26-13.86-11.2-30.59-24.66V96c0-26.51-21.49-48-48-48h-66.13C327.24 28.85 293.77 0 256 0c-37.65 0-70.9 28.63-93.85 48H96c-26.51 0-48 21.49-48 48v43.85c-16.81 13.52-29.15 23.46-30.48 24.56A48.002 48.002 0 000 201.48V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V201.51c0-14.31-6.38-27.88-17.41-36.99zM96 96h320v156.66c-36.26 29.32-78.69 63.67-86.59 69.95C311.25 337.12 279.6 368 256 368c-23.69 0-55.86-31.37-73.41-45.39-7.9-6.28-50.33-40.64-86.59-69.97V96zm368 362c0 3.31-2.69 6-6 6H54c-3.31 0-6-2.69-6-6V275.56c38.96 31.48 95.95 77.65 104.66 84.58C174.71 377.76 212.55 416 256 416c43.21 0 80.64-37.72 103.34-55.86 9-7.15 65.84-53.19 104.66-84.56V458zM176 192h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16zm176 64v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16z"></path></svg></div></a><a href="https://github.com/gsong/personal-site" aria-label="Visit my GitHub" class="link-hover css-ob76tp"><div class="css-1nllhmg"><svg aria-hidden="true" viewBox="0 0 496 512" height="calc(1em*16/14)" width="calc(1em*16/14)"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></div></a><a href="https://www.instagram.com/zukefresh/" aria-label="Visit my Instagram" class="link-hover css-ob76tp"><div class="css-1nllhmg"><svg aria-hidden="true" viewBox="0 0 448 512" height="calc(1em*16/14)" width="calc(1em*16/14)"><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg></div></a><a href="https://www.linkedin.com/in/gsong/" aria-label="Visit my LinkedIn" class="link-hover css-ob76tp"><div class="css-1nllhmg"><svg aria-hidden="true" viewBox="0 0 448 512" height="calc(1em*16/14)" width="calc(1em*16/14)"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></div></a><a href="/articles/rss.xml" aria-label="Subscribe to My RSS Feed" class="link-hover css-ob76tp"><div class="css-1nllhmg"><svg aria-hidden="true" viewBox="0 0 448 512" height="calc(1em*16/14)" width="calc(1em*16/14)"><path fill="currentColor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg></div></a></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-22541040-3', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/articles/datalist-autosuggest/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-b9fbc9fcd9a47b88e043.js"],"app":["/app-075ec943b1120ae089d8.js"],"component---content-articles-datalist-autosuggest-index-mdx":["/component---content-articles-datalist-autosuggest-index-mdx-9beee1dd25f26fdf047d.js"],"component---content-articles-reducer-patterns-part-1-mdx":["/component---content-articles-reducer-patterns-part-1-mdx-19f67574dfeaf23e2284.js"],"component---content-articles-reducer-patterns-part-2-mdx":["/component---content-articles-reducer-patterns-part-2-mdx-901d7140cc0922e413ee.js"],"component---content-articles-reducer-patterns-part-3-mdx":["/component---content-articles-reducer-patterns-part-3-mdx-a40f3e8adf42741379ff.js"],"component---content-articles-remove-unwanted-properties-mdx":["/component---content-articles-remove-unwanted-properties-mdx-ed0ad3edefc42c712b61.js"],"component---content-articles-to-locale-date-string-index-mdx":["/component---content-articles-to-locale-date-string-index-mdx-f1d76cc04f7b8624b512.js"],"component---content-articles-workplace-justice-ally-mdx":["/component---content-articles-workplace-justice-ally-mdx-87b1064cafbd96ad7ba1.js"],"component---src-pages-404-mdx":["/component---src-pages-404-mdx-6639b163fd2e452b1439.js"],"component---src-pages-drafts-colophon-mdx":["/component---src-pages-drafts-colophon-mdx-30067ff8906dccb55ab7.js"],"component---src-pages-index-mdx":["/component---src-pages-index-mdx-b5f8b215234f21399bc3.js"]};/*]]>*/</script><script src="/polyfill-b9fbc9fcd9a47b88e043.js" nomodule=""></script><script src="/component---content-articles-datalist-autosuggest-index-mdx-9beee1dd25f26fdf047d.js" async=""></script><script src="/app-075ec943b1120ae089d8.js" async=""></script><script src="/styles-83801f3b4dd3459a4027.js" async=""></script><script src="/webpack-runtime-af6aa026e65b6c79c543.js" async=""></script></body></html>